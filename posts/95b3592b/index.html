<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">
  <link rel="alternate" href="/atom.xml" title="Sidney God" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: true,
    lazyload: true,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="0 start感觉最近看的不少东西都是用gitbook写的，看起来也确实怪舒服的，举个例子：https:&#x2F;&#x2F;lingcoder.github.io&#x2F;OnJava8&#x2F;#&#x2F;sidebar，既能当博客又能当Wiki，于是我准备自己搭建一个。参考网上的步骤：  文档编写采用统一标准，都用Markdown格式的，最后可以用gitbook自动生成静态网页；  分配好各阶段（版本）相关责任人编写的文档，待文档编">
<meta property="og:type" content="article">
<meta property="og:title" content="Quickly build gitbook">
<meta property="og:url" content="https://sidneygod.github.io/posts/95b3592b/index.html">
<meta property="og:site_name" content="Sidney God">
<meta property="og:description" content="0 start感觉最近看的不少东西都是用gitbook写的，看起来也确实怪舒服的，举个例子：https:&#x2F;&#x2F;lingcoder.github.io&#x2F;OnJava8&#x2F;#&#x2F;sidebar，既能当博客又能当Wiki，于是我准备自己搭建一个。参考网上的步骤：  文档编写采用统一标准，都用Markdown格式的，最后可以用gitbook自动生成静态网页；  分配好各阶段（版本）相关责任人编写的文档，待文档编">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gitee.com/SidneyGod/ImagePlace/raw/master/null/gitbook_display.png">
<meta property="article:published_time" content="2020-06-20T15:14:37.000Z">
<meta property="article:modified_time" content="2020-06-21T04:03:02.926Z">
<meta property="article:author" content="Sidney Ding">
<meta property="article:tag" content="blog">
<meta property="article:tag" content="gitbook">
<meta property="article:tag" content="wiki">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/SidneyGod/ImagePlace/raw/master/null/gitbook_display.png">
  <link rel="canonical" href="https://sidneygod.github.io/posts/95b3592b/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Quickly build gitbook | Sidney God</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sidney God</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Keep quiet time for time</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
      
        
      
        
      
        
          
        
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">20</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    
      
      
        
      
        
          
        
      
        
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">4</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
      
        
          
        
      
        
      
        
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">22</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-commonweal">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>Commonweal 404</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-resources">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/resources/" rel="section"><i class="fa fa-fw fa-book"></i>Resources</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="fa fa-search fa-fw"></i>Search</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a class="book-mark-link book-mark-link-fixed" href="#"></a>

  <a href="https://github.com/SidneyGod" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/95b3592b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sidney Ding">
      <meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sidney God">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Quickly build gitbook

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2020-06-20 23:14:37" itemprop="dateCreated datePublished" datetime="2020-06-20T23:14:37+08:00">2020-06-20</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-21 12:03:02" itemprop="dateModified" datetime="2020-06-21T12:03:02+08:00">2020-06-21</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Other/" itemprop="url" rel="index"><span itemprop="name">Other</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/posts/95b3592b/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/95b3592b/" itemprop="commentCount"></span></a>
  </span>
  
  
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">Symbols count in article: </span>
              
              <span>17k</span>
            </span>
          
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">Reading time &asymp;</span>
              
              <span>29 mins.</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <html><head></head><body><h1 id="0-start"><a href="#0-start" class="headerlink" title="0 start"></a>0 start</h1><p>感觉最近看的不少东西都是用gitbook写的，看起来也确实怪舒服的，举个例子：<a href="https://lingcoder.github.io/OnJava8/#/sidebar" target="_blank" rel="noopener">https://lingcoder.github.io/OnJava8/#/sidebar</a>，既能当博客又能当Wiki，于是我准备自己搭建一个。参考网上的步骤：</p>
<ol>
<li><p>文档编写采用统一标准，都用Markdown格式的，最后可以用gitbook自动生成静态网页；</p>
</li>
<li><p>分配好各阶段（版本）相关责任人编写的文档，待文档编写完成后统一上传到git；</p>
</li>
<li><p>jenkins负责拉取正式版本（release开头）的文档，用gitbook编译后，同步到云端文档服务器</p>
</li>
<li><p>云端服务器制作一个入口页面，页面里面可以指引各个版本文档；http服务用nginx，指引到这个页面；</p>
</li>
</ol>
<p>其中第三步我觉得没必要用Jenkins，直接设置一个定时任务就好了。。其实搭建一个从零开始搭建一个完整Gitbook还是比较麻烦的，详情参考下方的参考文档。我既然说了快速，那必然是简单而又傻瓜式的搭建了..Let’s go!</p>
<a id="more"></a>
<p>参考文档：</p>
<p><a href="http://huaqianlee.github.io/2019/05/05/Git/gitlab-jenkins-gitbook-to-create-LAN-gitbook/" target="_blank" rel="noopener">Gitbook + Jenkins + Gitlab 搭建内网自动构建的 Gitbook</a></p>
<p><a href="http://gitbook.zhangjikai.com/installation.html" target="_blank" rel="noopener">Gitbook使用教程</a></p>
<p><a href="https://www.bookstack.cn/read/yangzh-gitbook/f515035a29711964.md" target="_blank" rel="noopener">Gitbook学习笔记</a></p>
<p><a href="GitBook插件整理">Gitbook插件整理</a></p>
<p><a href="https://blog.zhenglin.work/other/devops_practices_gitbook_web.html#%E5%88%A9%E7%94%A8gitbookgitjenkinsnodejs%E6%90%AD%E5%BB%BA%E8%B5%B7%E4%B8%80%E5%A5%97%E5%A4%9A%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E%E7%9A%84%E6%96%87%E6%A1%A3%E7%BD%91%E7%AB%99" target="_blank" rel="noopener">利用gitbook+git+jenkins+nodejs搭建起一套多版本说明的文档网站</a></p>
<h1 id="1-准备环境"><a href="#1-准备环境" class="headerlink" title="1 准备环境"></a>1 准备环境</h1><h2 id="1-1-设置root密码"><a href="#1-1-设置root密码" class="headerlink" title="1.1 设置root密码"></a>1.1 设置root密码</h2><p>准备环境这一步很基础也很重要，我使用的是Ubuntu16的虚拟机，打开虚拟机后<strong>先确保root用户是有密码</strong>的，不是sudo的密码，可以在终端试试<code>su</code>能不能切换到root，如果不行，先给root设置密码</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo passwd root  <span class="comment"># 设置一次密码就好了 以后就可以用su切换root了</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> sidney: </span><br><span class="line">Enter new UNIX password: </span><br><span class="line">Retype new UNIX password: </span><br><span class="line">passwd: password updated successfully</span><br><span class="line">sidney@ubuntu:~$</span><br></pre></td></tr></tbody></table></figure>
<h2 id="1-2-创建git用户"><a href="#1-2-创建git用户" class="headerlink" title="1.2 创建git用户"></a>1.2 创建git用户</h2><p>为了不影响当前的环境，我们先创建一个git用户，这个git也可以换成其他喜欢的字符</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo adduser git</span><br><span class="line">Adding user `git<span class="string">' ...</span></span><br><span class="line"><span class="string">Adding new group `git'</span> (1001) ...</span><br><span class="line">Adding new user `git<span class="string">' (1001) with group `git'</span> ...</span><br><span class="line">Creating home directory `/home/git<span class="string">' ...</span></span><br><span class="line"><span class="string">Copying files from `/etc/skel'</span> ...</span><br><span class="line">Enter new UNIX password: </span><br><span class="line">Retype new UNIX password: </span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information <span class="keyword">for</span> git</span><br><span class="line">Enter the new value, or press ENTER <span class="keyword">for</span> the default</span><br><span class="line">trueFull Name []: </span><br><span class="line">trueRoom Number []: </span><br><span class="line">trueWork Phone []: </span><br><span class="line">trueHome Phone []: </span><br><span class="line">trueOther []: </span><br><span class="line">Is the information correct? [Y/n] y</span><br><span class="line">sidney@ubuntu:~$</span><br></pre></td></tr></tbody></table></figure>
<p>创建好git用户后，应该就有<code>/home/git</code>目录了，如果没有的话..自己想办法吧..</p>
<h2 id="1-3-下载环境"><a href="#1-3-下载环境" class="headerlink" title="1.3 下载环境"></a>1.3 下载环境</h2><p>这里用我打包好的环境，省时省力，解压改点东西就能用了，下载链接：</p>
<p>蓝奏云：<a href="https://sidneygod.lanzous.com/iwOFzdwazyj" target="_blank" rel="noopener">https://sidneygod.lanzous.com/iwOFzdwazyj</a><br>密码:sidney</p>
<p>天翼云：<a href="https://cloud.189.cn/t/eAnyamUNBrum" target="_blank" rel="noopener">https://cloud.189.cn/t/eAnyamUNBrum</a><br>访问码：jtv3</p>
<p>没错，就是不提供百度云..这里先把git和openssh-server安装了，顺便当前用户生成个公钥</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo apt-get install git  <span class="comment"># 安装git 我安装过了 所以结果不一样</span></span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">git is already the newest version (1:1.9.1-1ubuntu0.10).</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.</span><br><span class="line">sidney@ubuntu:~$ sudo apt-get install openssh-server  <span class="comment"># 安装openssh-server</span></span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">openssh-server is already the newest version (1:6.6p1-2ubuntu2.13).</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.</span><br><span class="line">sidney@ubuntu:~$ ssh-keygen  <span class="comment"># 生成公钥 这个我也生成过了..</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/sidney/.ssh/id_rsa): </span><br><span class="line">/home/sidney/.ssh/id_rsa already exists.</span><br><span class="line">Overwrite (y/n)? y</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/sidney/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/sidney/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line"><span class="built_in">cd</span>:f8:18:9a:8b:de:91:d0:e0:ce:d3:5c:93:5a:37:dc sidney@ubuntu</span><br><span class="line">The key<span class="string">'s randomart image is:</span></span><br><span class="line"><span class="string">+--[ RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|    .            |</span></span><br><span class="line"><span class="string">|   . o   * .     |</span></span><br><span class="line"><span class="string">|    o . S * E    |</span></span><br><span class="line"><span class="string">|   o + B * .     |</span></span><br><span class="line"><span class="string">|    + O . .      |</span></span><br><span class="line"><span class="string">|     + o         |</span></span><br><span class="line"><span class="string">|   .o o          |</span></span><br><span class="line"><span class="string">+-----------------+</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo vim /etc/ssh/ssh_config  # 大概在39行 把Port 22注释打开 默认端口</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo /etc/init.d/ssh stop  # 重启一下ssh服务</span></span><br><span class="line"><span class="string">[ ok ] Stopping ssh (via systemctl): ssh.service.</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo /etc/init.d/ssh start</span></span><br><span class="line"><span class="string">[ ok ] Starting ssh (via systemctl): ssh.service.</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$</span></span><br></pre></td></tr></tbody></table></figure>
<p>哦，对了，如果没配置git，顺便把git配置一下</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"Sidney Ding"</span></span><br><span class="line">git config --global user.email <span class="string">"sidneyding183@gmail.com"</span></span><br></pre></td></tr></tbody></table></figure>
<p>这个环境配置的差不多了..接下来该处理我们下载下来的文件<code>git.zip</code>了</p>
<h2 id="1-4-解压git-zip"><a href="#1-4-解压git-zip" class="headerlink" title="1.4 解压git.zip"></a>1.4 解压git.zip</h2><p>首先，在终端切换用户到git，并把git.zip拷贝到<code>/home/git</code>下，然后来一个一个配置..</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ su git  <span class="comment"># 切换用户</span></span><br><span class="line">Password: </span><br><span class="line">git@ubuntu:/home/sidney$ <span class="built_in">cd</span> ~  <span class="comment"># 进入git的home目录</span></span><br><span class="line">git@ubuntu:~$ ll git.zip </span><br><span class="line">-rw-r--r-- 1 root root 96128663 Jun 21 00:20 git.zip</span><br><span class="line">git@ubuntu:~$ sudo chmod 666 git.zip  <span class="comment"># 改变模式失败..</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git is not <span class="keyword">in</span> the sudoers file.  This incident will be reported.</span><br><span class="line">git@ubuntu:~$</span><br></pre></td></tr></tbody></table></figure>
<p>在git中调用<code>sudo</code>，不出意外都会报这个错的<code>git is not in the sudoers file.  This incident will be reported.</code>，接下来的操作，<strong><font color="red">一定要确保root有密码！一定要确保root有密码！一定要确保root有密码！</font></strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~$ su  <span class="comment"># 切换到root用户</span></span><br><span class="line">Password: </span><br><span class="line">root@ubuntu:/home/git<span class="comment"># ll /etc/sudoers  # 查看文件权限</span></span><br><span class="line">-r--r----- 1 root root 755 Jun 20 23:54 /etc/sudoers</span><br><span class="line">root@ubuntu:/home/git<span class="comment"># chmod 0660 /etc/sudoers  # 加个可以写的权限</span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># vim /etc/sudoers  # 在这个文件中加一句  git ALL=(ALL) ALL </span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># chmod 0440 /etc/sudoers  # 一定要把权限改回去 不然大家都不能用sudo了</span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># ll /etc/sudoers</span></span><br><span class="line">-r--r----- 1 root root 773 Jun 21 00:30 /etc/sudoers</span><br><span class="line">root@ubuntu:/home/git<span class="comment"># exit  # 退出root</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">git@ubuntu:~$ sudo chmod 666 git.zip  <span class="comment"># 再次修改git.zip权限</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git@ubuntu:~$ ll git.zip </span><br><span class="line">-rw-rw-rw- 1 root root 96128663 Jun 21 00:20 git.zip  <span class="comment"># 没毛病</span></span><br><span class="line">git@ubuntu:~$</span><br></pre></td></tr></tbody></table></figure>
<p>如果你在这不小心，用sudo改了<code>/etc/sudoers</code>的模式，然后你还没有root密码..作孽啊，用下面的方法试试能不能救..不然重装系统吧</p>
<p><a href="https://www.cnblogs.com/sea-stream/p/9852478.html" target="_blank" rel="noopener">sudo: /etc/sudoers is world writable sudo: no valid sudoers sources found</a></p>
<p>终于可以解压了..</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~$ unzip git.zip </span><br><span class="line">Archive:  git.zip</span><br><span class="line">   creating: book/</span><br><span class="line">  inflating: book/serve.log          </span><br><span class="line">  inflating: book/book.json          </span><br><span class="line">  inflating: book/package-lock.json  </span><br><span class="line">  inflating: book/commands.txt</span><br><span class="line">  ...</span><br><span class="line">git@ubuntu:~$ ll  <span class="comment"># 解压完的目录应该是这样的</span></span><br><span class="line">total 93932</span><br><span class="line">drwxr-xr-x 7 git  git      4096 Jun 21 00:38 ./</span><br><span class="line">drwxr-xr-x 4 root root     4096 Jun 21 00:02 ../</span><br><span class="line">-rw------- 1 git  git       100 Jun 21 00:24 .bash_history</span><br><span class="line">-rw-r--r-- 1 git  git       220 Jun 21 00:02 .bash_logout</span><br><span class="line">-rw-r--r-- 1 git  git      3771 Jun 21 00:02 .bashrc  <span class="comment"># 这个必须在</span></span><br><span class="line">drwxrwxr-x 6 git  git      4096 Jun 20 22:39 book/  <span class="comment"># 必须</span></span><br><span class="line">drwxrwxr-x 7 git  git      4096 Jun 20 09:10 book.git/  <span class="comment"># 必须</span></span><br><span class="line">-rw-r--r-- 1 git  git      8980 Jun 21 00:02 examples.desktop</span><br><span class="line">-rw-rw-rw- 1 root root 96128663 Jun 21 00:20 git.zip</span><br><span class="line">drwxrwxr-x 6 git  git      4096 Jun 20 22:45 nginx/  <span class="comment"># 必须</span></span><br><span class="line">drwxr-xr-x 9 git  git      4096 Jun 20 22:30 nginx-1.18.0/</span><br><span class="line">drwxr-xr-x 7 git  git      4096 Jun 20 09:30 node-v12.18.1-linux-x64/  <span class="comment"># 必须</span></span><br><span class="line">-rw-r--r-- 1 git  git       655 Jun 21 00:02 .profile  <span class="comment"># 必须</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果缺了必须的文件，是一件很麻烦的事..</p>
<h2 id="1-5-配置环境"><a href="#1-5-配置环境" class="headerlink" title="1.5 配置环境"></a>1.5 配置环境</h2><p>接下来要配置的就不多了</p>
<h3 id="1-5-1-node-js"><a href="#1-5-1-node-js" class="headerlink" title="1.5.1 node.js"></a>1.5.1 node.js</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置node.js环境变量</span></span><br><span class="line">git@ubuntu:~$ <span class="built_in">cd</span> node-v12.18.1-linux-x64/bin</span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">pwd</span></span><br><span class="line">/home/git/node-v12.18.1-linux-x64/bin  <span class="comment"># 注意这个路径</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ vim ~/.bashrc  <span class="comment"># 主要是把那个路径添加到环境变量</span></span><br><span class="line">    <span class="comment"># node.js</span></span><br><span class="line">    <span class="built_in">export</span> PATH=/home/git/node-v12.18.1-linux-x64/bin:<span class="variable">$PATH</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">source</span> ~/.bashrc</span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ node -v</span><br><span class="line">v12.18.1  <span class="comment"># 能正确显示版本 说明没问题</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$</span><br></pre></td></tr></tbody></table></figure>
<h3 id="1-5-2-gitbook"><a href="#1-5-2-gitbook" class="headerlink" title="1.5.2 gitbook"></a>1.5.2 gitbook</h3><p>先去看看gitbook能不能用</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">cd</span> ~/book</span><br><span class="line">git@ubuntu:~/book$ gitbook -V  <span class="comment"># 耐心等一会，需要安装点东西</span></span><br><span class="line">CLI version: 2.3.2</span><br><span class="line">Installing GitBook 3.2.3</span><br><span class="line">...</span><br><span class="line">GitBook version: 3.2.3</span><br><span class="line">git@ubuntu:~/book$ gitbook serve  <span class="comment"># 先爽一下 报error不用管 那个是我故意写错的 一个插件导致的</span></span><br><span class="line">Live reload server started on port: 35729</span><br><span class="line">Press CTRL+C to quit ...</span><br><span class="line">...</span><br><span class="line">Starting server ...</span><br><span class="line">Serving book on http://localhost:4000</span><br></pre></td></tr></tbody></table></figure>
<p>这个时候，打开浏览器，访问<code>http://127.0.0.1:4000</code>应该是能访问的，如下图</p>
<p><img data-src="https://gitee.com/SidneyGod/ImagePlace/raw/master/null/gitbook_display.png"></p>
<h3 id="1-5-3-git"><a href="#1-5-3-git" class="headerlink" title="1.5.3 git"></a>1.5.3 git</h3><p>再配置一下我们的仓库</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ cd docs/</span><br><span class="line">git@ubuntu:~/book/docs$ ifconfig  # 先看一下本机ip 毕竟要大家一起玩嘛..</span><br><span class="line">ens33     Link encap:Ethernet  HWaddr 00:0c:29:6b:c5:06  </span><br><span class="line">          inet addr:192.168.1.109  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          ...</span><br><span class="line"></span><br><span class="line">git@ubuntu:~/book/docs$ vim .git/config</span><br><span class="line">    [remote "origin"]</span><br><span class="line">            url = git@192.168.1.109:/home/git/book.git  # 重点是这句 自行修改一下</span><br><span class="line">            fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果没问题的话 我们更新一下代码试试</span></span><br><span class="line">git@ubuntu:~/book/docs$ git pull origin master  # 更新代码应该是没问题的 并且是最新的</span><br><span class="line">The authenticity of host '192.168.1.109 (192.168.1.109)' can't be established.</span><br><span class="line">ECDSA key fingerprint is 0a:0a:d6:c8:7d:cf:b1:75:8e:c4:fe:ac:13:16:aa:f8.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added '192.168.1.109' (ECDSA) to the list of known hosts.</span><br><span class="line">git@192.168.1.109's password: </span><br><span class="line">From 192.168.1.109:/home/git/book</span><br><span class="line"> * branch            master     -> FETCH_HEAD</span><br><span class="line">Already up-to-date.</span><br><span class="line">git@ubuntu:~/book/docs$ vim README.md  # 我们修改一下README.md  干掉那个error</span><br><span class="line">git@ubuntu:~/book/docs$ git diff</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index 71a64d2..7119efd 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -3,4 +3,7 @@ just for a test..</span><br><span class="line"> </span><br><span class="line"> test2..</span><br><span class="line"> what is Markdown?</span><br><span class="line">+'''bash  # 主要是把这里的txt换成一种语言</span><br><span class="line">+hahaha, kanni zenme ban?</span><br><span class="line">+'''</span><br><span class="line">git@ubuntu:~/book/docs$ git add README.md  # 下面是验证一笔提交..</span><br><span class="line">git@ubuntu:~/book/docs$ git commit -m "change txt to bash"</span><br><span class="line"></span><br><span class="line">*** Please tell me who you are.</span><br><span class="line"></span><br><span class="line">Run</span><br><span class="line"></span><br><span class="line">  git config --global user.email "you@example.com"</span><br><span class="line">  git config --global user.name "Your Name"</span><br><span class="line"></span><br><span class="line">to set your account's default identity.</span><br><span class="line">Omit --global to set the identity only in this repository.</span><br><span class="line"></span><br><span class="line">fatal: empty ident name (for <git@ubuntu.(none)>) not allowed</span><br><span class="line"><span class="meta">#</span><span class="bash"> 忘了配置git了..</span></span><br><span class="line">git@ubuntu:~/book/docs$ git config --global user.email "sidneyding183@gmail.com"</span><br><span class="line">git@ubuntu:~/book/docs$ git config --global user.name "SidneyGod"</span><br><span class="line">git@ubuntu:~/book/docs$ git commit -m "change txt to bash"</span><br><span class="line">[master 3906bd7] change txt to bash</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line">git@ubuntu:~/book/docs$ git push origin master  # 说明push也没有问题</span><br><span class="line">git@192.168.1.109's password: </span><br><span class="line">Counting objects: 5, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 350 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">To git@192.168.1.109:/home/git/book.git</span><br><span class="line">   f242669..3906bd7  master -> master</span><br><span class="line">git@ubuntu:~/book/docs$ </span><br><span class="line">git@ubuntu:~/book/docs$ cd ../</span><br><span class="line">git@ubuntu:~/book$ gitbook build && gitbook serve  # 这次就不会报error了</span><br><span class="line">info: 29 plugins are installed </span><br><span class="line">info: 24 explicitly listed</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
<p>这一步其实是为了确定仓库是好的，我才不会用<code>gitbook serve</code>呢！</p>
<h3 id="1-5-4-nginx"><a href="#1-5-4-nginx" class="headerlink" title="1.5.4 nginx"></a>1.5.4 nginx</h3><p>这东西也不用了解太多，用就完事了..</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ <span class="built_in">cd</span> ../nginx</span><br><span class="line">git@ubuntu:~/nginx$ <span class="built_in">pwd</span></span><br><span class="line">/home/git/nginx</span><br><span class="line">git@ubuntu:~/nginx$ vim conf/nginx.conf  <span class="comment"># 先看一下第29行配置对不对</span></span><br><span class="line">    <span class="built_in">alias</span> /home/git/book/_book;  <span class="comment"># 如果_book不在这个目录 修改一下</span></span><br><span class="line">git@ubuntu:~/nginx$ </span><br><span class="line">git@ubuntu:~/nginx$ sudo ./sbin/nginx -p /home/git/nginx  <span class="comment"># 运行nginx</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git@ubuntu:~/nginx$ ls  <span class="comment"># 运行完 多几个temp才是正常的</span></span><br><span class="line">client_body_temp  conf  fastcgi_temp  html  logs  proxy_temp  sbin  scgi_temp  uwsgi_temp</span><br></pre></td></tr></tbody></table></figure>
<p>这个时候应该可以通过<code>http://192.168.1.109/book</code>来访问了，访问成改表示nginx配置成功，<code>http://192.168.1.109/</code>就可以用来”<strong>制作一个入口页面，页面里面可以指引各个版本文档</strong>“，多本gitbook才是最终目标</p>
<h3 id="1-5-5-git-hook"><a href="#1-5-5-git-hook" class="headerlink" title="1.5.5 git hook"></a>1.5.5 git hook</h3><p>之前用的定时..感觉还是不行，不好用，于是发现git新大陆，叫git hook，先到<code>book.git</code>仓库看看吧</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book.git/hooks$ <span class="built_in">pwd</span>  <span class="comment"># 注意这个目录</span></span><br><span class="line">/home/git/book.git/hooks</span><br><span class="line">git@ubuntu:~/book.git/hooks$ vim post-receive  <span class="comment"># 创建post-receive文件 当有push就会执行</span></span><br><span class="line">git@ubuntu:~/book.git/hooks$ chmod a+x post-receive  <span class="comment"># 加可执行权限</span></span><br></pre></td></tr></tbody></table></figure>
<p>以下是<code>post-receive</code>内容</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">set</span> -e  <span class="comment"># 这两句调试用的</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">set</span> -x</span></span><br><span class="line"></span><br><span class="line">PATH=/home/git/node-v12.18.1-linux-x64/bin/:$PATH  # 这里路径</span><br><span class="line"></span><br><span class="line">IS_BARE=$(git rev-parse --is-bare-repository)</span><br><span class="line">if [ -z "$IS_BARE" ]; then</span><br><span class="line">    echo >&2 "fatal: post-receive: IS_NOT_BARE"</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">unset GIT_DIR</span><br><span class="line">cd '/home/git/book/docs'  # 注意这里的路径</span><br><span class="line">echo "deploying the gitbook.."</span><br><span class="line">result=`git pull origin master`</span><br><span class="line">[[ $result = "Already up-to-date." ]] && exit 0 || echo "File updated"</span><br><span class="line">cd '/home/git/book'  # 还有这里</span><br><span class="line">gitbook build</span><br></pre></td></tr></tbody></table></figure>
<p>这样就特别完美了..哈哈..比定时任务高大上多了..</p>
<h3 id="1-5-6-crontab"><a href="#1-5-6-crontab" class="headerlink" title="1.5.6 crontab"></a><del>1.5.6 crontab</del></h3><p>其实到这里就已经好了，让nginx一直在后台运行就好了，如果<code>/home/git/book/docs</code>有变动，比如新的文档啥的，就在<code>/home/git/book</code>目录下执行一次<code>gitbook build</code>就好了，但是怎么说呢？太累。写完文档push完了，你还得再去pull一次，麻烦，所以才有上面的Jenkins监听push行为，然后自动进行更新docs，并执行<code>gitbook build</code>，我觉得这太大材小用了，webhookit或许不错，不过我最终还是觉得定时任务最方便..</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先 把本机的公钥加到.ssh/authorized_keys中</span></span><br><span class="line">git@ubuntu:~/book$ ssh-keygen</span><br><span class="line">git@ubuntu:~/book$ cat ~/.ssh/id_rsa.pub</span><br><span class="line">git@ubuntu:~/book$ vim ~/.ssh/authorized_keys  <span class="comment"># 什么没有这个文件 那建一个呗</span></span><br><span class="line"><span class="comment"># 然后写一个简单的脚本..</span></span><br><span class="line">git@ubuntu:~/book$ vim build.sh  <span class="comment"># 简单的更新并build的脚本</span></span><br><span class="line">    <span class="comment">#!/bin/bash</span></span><br><span class="line">    <span class="built_in">set</span> -e</span><br><span class="line">    <span class="built_in">set</span> -x</span><br><span class="line"></span><br><span class="line">    PATH=/home/git/node-v12.18.1-linux-x64/bin/:<span class="variable">$PATH</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="string">'/home/git/book/docs'</span></span><br><span class="line">    result=`git pull origin master`</span><br><span class="line">    [[ <span class="variable">$result</span> = <span class="string">"Already up-to-date."</span> ]] && <span class="built_in">exit</span> 0 || <span class="built_in">echo</span> <span class="string">"File updated"</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="string">'/home/git/book'</span></span><br><span class="line">    gitbook build</span><br><span class="line">git@ubuntu:~/book$ chmod a+x build.sh</span><br><span class="line"><span class="comment"># 设置定时任务</span></span><br><span class="line">git@ubuntu:~/book$ crontab -e</span><br><span class="line"></span><br><span class="line">Select an editor.  To change later, run <span class="string">'select-editor'</span>.</span><br><span class="line">  1. /bin/ed</span><br><span class="line">  2. /bin/nano        <---- easiest</span><br><span class="line">  3. /usr/bin/vim.basic</span><br><span class="line"></span><br><span class="line">Choose 1-3 [2]: 3</span><br><span class="line">    <span class="comment"># 加了这么一句 一分钟执行一次脚本，并输出log..</span></span><br><span class="line">    */1 * * * * /bin/bash /home/git/book/build.sh >> /home/git/book/crontab.log 2>&1</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">git@ubuntu:~/book$ service cron restart  <span class="comment"># 重启cron服务</span></span><br></pre></td></tr></tbody></table></figure>
<p>可算是大功告成了！</p>
<h1 id="2-多人协作"><a href="#2-多人协作" class="headerlink" title="2 多人协作"></a>2 多人协作</h1><p>要git本就是为了多人协作，这时候再开一个终端，查看另一个用户的公钥</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ cat .ssh/id_rsa.pub  <span class="comment"># 注意 这里不是 git@ubuntu了</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDkdVqvsdIjn28XEA4wC29SyiQALP9eLyOXC/WRuPR4WHagVCu8JO415oHgUo8uAlXIQAS2AcAQA+1bzuipSmCEo2RtIgLovjoI1Iqw475NP+ExlkRjw4Z sidney@ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将sidney的公钥加到git的.ssh/authorized_keys中</span></span><br><span class="line">git@ubuntu:~$ vim ~/.ssh/authorized_keys  <span class="comment"># 注意这里是git@ubuntu</span></span><br></pre></td></tr></tbody></table></figure>
<p>接下来呢，当然是要尝试拉代码和推代码了，哦不，是文档..</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ <span class="built_in">cd</span> Downloads/</span><br><span class="line"><span class="comment"># 克隆仓库 没有问题..</span></span><br><span class="line">sidney@ubuntu:~/Downloads$ git <span class="built_in">clone</span> git@192.168.1.109:/home/git/book.git</span><br><span class="line">Cloning into <span class="string">'book'</span>...</span><br><span class="line">remote: Counting objects: 46, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (35/35), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 46 (delta 11), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (46/46), 4.94 KiB | 0 bytes/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (11/11), <span class="keyword">done</span>.</span><br><span class="line">Checking connectivity... <span class="keyword">done</span>.</span><br><span class="line">sidney@ubuntu:~/Downloads$ <span class="built_in">cd</span> book/</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ ls</span><br><span class="line">ch1  GLOSSARY.md  last_ch  README.md  SUMMARY.md</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ vim README.md  <span class="comment"># 修改README.md</span></span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with <span class="string">'origin/master'</span>.</span><br><span class="line"></span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add <file>..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git checkout -- <file>..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">truemodified:   README.md</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git diff</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index aae20fc..a35bf2b 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -1,4 +1,5 @@</span><br><span class="line"> <span class="comment"># Introduction</span></span><br><span class="line">+我是最棒的！</span><br><span class="line"> just <span class="keyword">for</span> a <span class="built_in">test</span>..</span><br><span class="line"> </span><br><span class="line"> test2..</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git add README.md</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git commit -m <span class="string">"test"</span></span><br><span class="line">[master 7f99d72] <span class="built_in">test</span></span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git push origin master  <span class="comment"># 推也没问题</span></span><br><span class="line">Counting objects: 5, <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 366 bytes | 0 bytes/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">To git@192.168.1.109:/home/git/book.git</span><br><span class="line">   3906bd7..7f99d72  master -> master</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git pull origin master  <span class="comment"># 拉代码也没问题</span></span><br><span class="line">From 192.168.1.109:/home/git/book</span><br><span class="line"> * branch            master     -> FETCH_HEAD</span><br><span class="line">Already up-to-date.</span><br><span class="line">sidney@ubuntu:~/Downloads/book$</span><br></pre></td></tr></tbody></table></figure>
<p>耐心等待个一两分钟..再刷新页面，应该是能看到变化的，如果没变化，那么可能是定时任务出问题了，或者脚本有问题..这么看的话，多人协作是没有问题的了</p>
<h1 id="3-gitbook使用"><a href="#3-gitbook使用" class="headerlink" title="3 gitbook使用"></a>3 gitbook使用</h1><p>想知道详细信息的可以百度或者看上面我提供的几条链接</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ tree -L 1</span><br><span class="line">.</span><br><span class="line">├── _book  <span class="comment"># gitbook生成的静态网页的地方</span></span><br><span class="line">├── book.json  <span class="comment"># gitbook配置文件 包括安装插件什么的 我已经安装差不多了</span></span><br><span class="line">├── build.sh  <span class="comment"># 自己写的更新脚本</span></span><br><span class="line">├── commands.txt  <span class="comment"># 常用命令记录</span></span><br><span class="line">├── docs  <span class="comment"># 存储源文档仓库</span></span><br><span class="line">├── node_modules  <span class="comment"># 安装的插件</span></span><br><span class="line">├── package-lock.json  <span class="comment"># 安装的插件列表/信息</span></span><br><span class="line">├── serve.log</span><br><span class="line">└── style  <span class="comment"># 自定义样式表</span></span><br></pre></td></tr></tbody></table></figure>
<p>由于配置啥的我已经弄得差不多了，直接说说怎么用</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ tree docs/</span><br><span class="line">docs/</span><br><span class="line">├── ch1</span><br><span class="line">│   ├── ch1.1</span><br><span class="line">│   │   └── ch1.1.md</span><br><span class="line">│   └── Chapter1.md</span><br><span class="line">├── GLOSSARY.md</span><br><span class="line">├── last_ch</span><br><span class="line">│   └── last_ch.md</span><br><span class="line">├── README.md</span><br><span class="line">└── SUMMARY.md</span><br><span class="line"></span><br><span class="line">3 directories, 6 files</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-1-SUMMARY-md"><a href="#3-1-SUMMARY-md" class="headerlink" title="3.1 SUMMARY.md"></a>3.1 SUMMARY.md</h2><p>概要文件主要存放 GitBook 的文件目录信息，左侧的目录就是根据这个文件来生成的，默认对应的文件是 SUMMARY.md，可以在book.json重新定义该文件的对应值。它通过Markdown中的<strong>列表语法</strong>(其实就是<strong>通过缩进</strong>)来表示文件的父子关系，下面是一个简单的示例：</p>
<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Summary</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span>[<span class="string">Introduction</span>](<span class="link">README.md</span>)</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="section"># PART I  <!-- 这个懂吧 --></span></span><br><span class="line"><span class="bullet">* </span>[<span class="string">CHAPTER 1</span>](<span class="link">./ch1/Chapter1.md</span>)</span><br><span class="line"><span class="bullet">    * </span>[<span class="string">ch1.1</span>](<span class="link">./ch1/ch1.1/ch1.1.md</span>)  <span class="xml"><span class="comment"><!-- 支持文档做子目录 --></span></span></span><br><span class="line"></span><br><span class="line">------  <!-- 章节分割线 --></span><br><span class="line"><span class="bullet">* </span>[<span class="string">Last Chapter</span>](<span class="link">./last_ch/last_ch.md</span>)</span><br><span class="line"><span class="bullet">    * </span>[<span class="string">title1</span>](<span class="link">./last_ch/last_ch.md#title1</span>)  <span class="xml"><span class="comment"><!-- 也支持文件中的锚点做目录 --></span></span></span><br><span class="line"><span class="bullet">    * </span>[<span class="string">title2</span>](<span class="link">./last_ch/last_ch.md#title2</span>)</span><br><span class="line"><span class="bullet">        * </span>[<span class="string">title2.1</span>](<span class="link">./last_ch/last_ch.md#title2-1</span>)</span><br><span class="line"><span class="bullet">            * </span>[<span class="string">title2.1</span>](<span class="link">./last_ch/last_ch.md#title2-1-1</span>)</span><br><span class="line"><span class="bullet">        * </span>[<span class="string">title2.2</span>](<span class="link">./last_ch/last_ch.md#title2-2</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>可以对比着看</p>
<h2 id="3-2-GLOSSARY-md"><a href="#3-2-GLOSSARY-md" class="headerlink" title="3.2 GLOSSARY.md"></a>3.2 GLOSSARY.md</h2><p>专业词汇表文件，默认对应的文件是 <code>GLOSSARY.md</code>。该文件主要存储词汇信息，如果在其他页面中出现了该文件中的词汇，鼠标放到词汇上会给出词汇示意，看一下基本格式</p>
<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Markdown</span></span><br><span class="line">简洁优雅的排版语言,简化版的 <span class="code">`HTML`</span>,加强版的 <span class="code">`TXT`</span>,详情请google</span><br><span class="line"></span><br><span class="line"><span class="section">## git</span></span><br><span class="line">分布式版本控制系统,详情请google</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-3-book-json"><a href="#3-3-book-json" class="headerlink" title="3.3 book.json"></a>3.3 book.json</h2><p>这个是全局的额配置文件，节选部分</p>
<figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    "root": "./docs",  // 定义文档的根目录</span><br><span class="line">    "links": {</span><br><span class="line">        "sidebar": {</span><br><span class="line">            "Baidu": "https://www.baidu.com/"  // 这个是侧边栏的链接</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    "language": "en",  // 定义语言</span><br><span class="line">    "description": "No description!",</span><br><span class="line">    "isbn": "978-0-13-601970-1",</span><br><span class="line">    "author": "SidneyGod",</span><br><span class="line">    "title": "A Book with Gitbook",</span><br><span class="line"></span><br><span class="line">    "plugins": [  // 安装的插件列表</span><br><span class="line">        "-lunr", "-search", "search-pro",</span><br><span class="line">        ...,</span><br><span class="line">        <span class="string">"anchor-navigation-ex"</span></span><br><span class="line">    ],</span><br><span class="line">    "pluginsConfig": {  // 插件配置</span><br><span class="line">        "chart": {</span><br><span class="line">            "type": "c3"</span><br><span class="line">        },</span><br><span class="line">        ...,</span><br><span class="line">        "prism": {</span><br><span class="line">            "css": [</span><br><span class="line">                <span class="string">"prism-themes/themes/prism-base16-ateliersulphurpool.light.css"</span></span><br><span class="line">            ]</span><br><span class="line">        },</span><br><span class="line">    },</span><br><span class="line"></span><br><span class="line">    "styles": {  // 自定义样式表</span><br><span class="line">        "website": "styles/website.css",</span><br><span class="line">        "ebook": "styles/ebook.css",</span><br><span class="line">        "pdf": "styles/pdf.css",</span><br><span class="line">        "mobi": "styles/mobi.css",</span><br><span class="line">        "epub": "styles/epub.css"</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-4-new-doc"><a href="#3-4-new-doc" class="headerlink" title="3.4 new doc"></a>3.4 new doc</h2><p>添加新文档，我建议还是一条目录一个markdown文件比较好，文件夹分级与<code>SUMMARY.md</code>保持一致，我安装了很多插件，基本上所有的效果都能实现。尽情用markdown挥洒吧..</p>
<p>关于之前的<code>gitbook serve</code>报error问题，是因为prsim插件不识别<code>txt</code>语言导致，就是写代码块指定prsim认识的语言才不会报错，不过报错也不影响使用。prsim目前支持218种语言：<a href="https://prismjs.com/#supported-languages" target="_blank" rel="noopener">https://prismjs.com/#supported-languages</a></p>
<p>其他问题，自行Google..局域网中可以访问，没毛病..</p>
</body></html>
    </div>

    
    
    

      <div style="text-align:center;color:#636363;font-size:14px;">------- This article is over <i class="fa fa-leaf" aria-hidden="true"></i> Thank you for your reading -------</div>
        
      
        <div id="reward-container">
  <div>All I need is you needing me.</div>
  <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
        
      
      <div style="display: inline-block">
        <img src="/images/wechatpay.png" alt="Sidney Ding WeChat Pay">
        <p>WeChat Pay</p>
      </div>
        
      
      <div style="display: inline-block">
        <img src="/images/alipay.jpg" alt="Sidney Ding Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>

      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Sidney Ding</li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://sidneygod.github.io/posts/95b3592b/" title="Quickly build gitbook">https://sidneygod.github.io/posts/95b3592b/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/blog/" rel="tag"><i class="fa fa-tag"></i> blog</a>
            
              <a href="/tags/gitbook/" rel="tag"><i class="fa fa-tag"></i> gitbook</a>
            
              <a href="/tags/wiki/" rel="tag"><i class="fa fa-tag"></i> wiki</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/posts/ea0e14e5/" rel="next" title="[Relearning C/Cpp] Operators and Expressions">
                  <i class="fa fa-chevron-left"></i> [Relearning C/Cpp] Operators and Expressions
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/posts/4163f7c1/" rel="prev" title="[Relearning C/Cpp] Statements and Preprocessor">
                  [Relearning C/Cpp] Statements and Preprocessor <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    <div class="comments" id="comments"></div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Catalogue
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0-start"><span class="nav-text">0 start</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-准备环境"><span class="nav-text">1 准备环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-设置root密码"><span class="nav-text">1.1 设置root密码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-创建git用户"><span class="nav-text">1.2 创建git用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-下载环境"><span class="nav-text">1.3 下载环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-解压git-zip"><span class="nav-text">1.4 解压git.zip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-配置环境"><span class="nav-text">1.5 配置环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-node-js"><span class="nav-text">1.5.1 node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-gitbook"><span class="nav-text">1.5.2 gitbook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-3-git"><span class="nav-text">1.5.3 git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-4-nginx"><span class="nav-text">1.5.4 nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-5-git-hook"><span class="nav-text">1.5.5 git hook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-6-crontab"><span class="nav-text">1.5.6 crontab</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-多人协作"><span class="nav-text">2 多人协作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-gitbook使用"><span class="nav-text">3 gitbook使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-SUMMARY-md"><span class="nav-text">3.1 SUMMARY.md</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-GLOSSARY-md"><span class="nav-text">3.2 GLOSSARY.md</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-book-json"><span class="nav-text">3.3 book.json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-new-doc"><span class="nav-text">3.4 new doc</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <a href="#">
      <img class="site-author-image" itemprop="image"
        src="/images/avatar.png"
        alt="Sidney Ding">
    </a>
  <p class="site-author-name" itemprop="name">Sidney Ding</p>
  <div class="site-description" itemprop="description">You laugh at me for being different, but I laugh at you for being the same.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
        <!--
        
          <a href="/archives/%20%7C%7C%20archive">
        
        -->
          <span class="site-state-item-count">22</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
            <a href="/categories/">
          <!--
          
            <a href="/categories/%20%7C%7C%20th">
          
          -->
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
            <a href="/tags/">
          <!--
          
            <a href="/tags/%20%7C%7C%20tags">
          
          -->
        
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/SidneyGod" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;SidneyGod" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:sidneyding183@gmail.com" title="E-Mail &amp;rarr; mailto:sidneyding183@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>
  <div class="cc-license motion-element" itemprop="license">
    
  
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://google.com/" title="https:&#x2F;&#x2F;google.com" rel="noopener" target="_blank">Google</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://bing.com/" title="https:&#x2F;&#x2F;bing.com" rel="noopener" target="_blank">Bing</a>
        </li>
      
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sidney Ding</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    
    <span title="Symbols count total">232k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    
    <span title="Reading time total">6:27</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1</div>
  <div>
    <span><i class="fa fa-bomb"></i> </span>
    <span id="showDays"></span>
  </div>

<script>
  var seconds = 1000;
  var minutes = seconds * 60;
  var hours = minutes * 60;
  var days = hours * 24;
  var years = days * 365;
  var birthDay = Date.UTC(2019,10,1,00,00,00);
  setInterval(function() {
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    var now = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = now - birthDay;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
    document.getElementById('showDays').innerHTML="This website has been running for "+diffYears+" years, "+diffDays+" days, "+diffHours+" hours, "+diffMinutes+" minutes, "+diffSeconds+" seconds";
  }, 1000);
</script>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.4.1.js"></script>

<script src="/js/motion.js?v=7.4.1.js"></script>


<script src="/js/schemes/pisces.js?v=7.4.1.js"></script>



<script src="/js/next-boot.js?v=7.4.1.js"></script>

<script src="/js/bookmark.js?v=7.4.1.js"></script>


  <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script>
    
    <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/three-waves.min.js"></script>
  


  








  
<script src="/js/local-search.js?v=7.4.1.js"></script>









<script>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes: 0,
          toolbar: 0,
          statusbar: 0,
          pagemode: 'thumbs',
          view: 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>





    

  

    

    


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: false,
    appId: 'IJiDbg4VAiIeDsIj4MBo39Hq-gzGzoHsz',
    appKey: '0osu23DWjzCzrIVH4Ybe3ihh',
    placeholder: 'Just go go',
    avatar: 'monsterid',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: 'en' || 'zh-cn',
    path: location.pathname,
    recordIP: true,
    serverURLs: ''
  });
}, window.Valine);
</script>


  <canvas id="canvas-rain" style="position: fixed; top: 0px; left: 0px; z-index: -1; opacity: 1;">Canvas is not supported in your browser</canvas>
  <script type="text/javascript" src="/js/rain.js"></script>
  <script async type="text/javascript" src="/js/love.js"></script>
  <script async type="text/javascript" src="/js/fireworks.js"></script>
  
<script>
  var OriginTitile = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function() {
    if (document.hidden) {
      document.title = "(つェ⊂) 我藏好了哦~" + OriginTitile;
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~" + OriginTitile;
      titleTime = setTimeout(function() {
        document.title = OriginTitile;
      }, 2000);
    }
  });
</script>

  
  <script src="/js/activate-power-mode.min.js"></script>
  <script>
    POWERMODE.colorful = true;
    POWERMODE.shake = true;
    document.body.addEventListener('input', POWERMODE);
  </script>

</body>
</html>
