<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/pink/pace-theme-minimal.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"sidneygod.gitlab.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.12.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><link rel="canonical" href="https://sidneygod.gitlab.io/posts/95b3592b/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sidneygod.gitlab.io/posts/95b3592b/","path":"posts/95b3592b/","title":"Quickly build gitbook"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Quickly build gitbook | Sidney God</title><script src="/lib/fireworks.js"></script><script>let titleTime,originTitile=document.title;document.addEventListener("visibilitychange",(function(){let i=document.querySelector('link[rel="icon"]');document.hidden?(i.setAttribute("href","/images/favicon.ico"),document.title="(つェ⊂) 我藏好了哦~"+originTitile,clearTimeout(titleTime)):(i.setAttribute("href","/images/favicon.ico"),document.title="(*´∇｀*) 被你发现啦~"+originTitile,titleTime=setTimeout((function(){document.title=originTitile}),2e3))}))</script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Sidney God" type="application/atom+xml">
</head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Sidney God</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Keep quiet time for time</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">18</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">6</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">23</span></a></li><li class="menu-item menu-item-resources"><a href="/resources/" rel="section"><i class="fa fa-book fa-fw"></i>Resources</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">Catalogue</li><li class="sidebar-nav-overview">Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0-start"><span class="nav-text">0 start</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83"><span class="nav-text">1 准备环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81"><span class="nav-text">1.1 设置root密码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E5%88%9B%E5%BB%BAgit%E7%94%A8%E6%88%B7"><span class="nav-text">1.2 创建git用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E4%B8%8B%E8%BD%BD%E7%8E%AF%E5%A2%83"><span class="nav-text">1.3 下载环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-%E8%A7%A3%E5%8E%8Bgit-zip"><span class="nav-text">1.4 解压git.zip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="nav-text">1.5 配置环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-node-js"><span class="nav-text">1.5.1 node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-gitbook"><span class="nav-text">1.5.2 gitbook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-3-git"><span class="nav-text">1.5.3 git</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-4-nginx"><span class="nav-text">1.5.4 nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-5-git-hook"><span class="nav-text">1.5.5 git hook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-6-crontab"><span class="nav-text">1.5.6 crontab</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C"><span class="nav-text">2 多人协作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-gitbook%E4%BD%BF%E7%94%A8"><span class="nav-text">3 gitbook使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-SUMMARY-md"><span class="nav-text">3.1 SUMMARY.md</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-GLOSSARY-md"><span class="nav-text">3.2 GLOSSARY.md</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-book-json"><span class="nav-text">3.3 book.json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-new-doc"><span class="nav-text">3.4 new doc</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Sidney Ding" src="/images/avatar.png"><p class="site-author-name" itemprop="name">Sidney Ding</p><div class="site-description" itemprop="description">You laugh at me for being different, but I laugh at you for being the same.</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">23</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">18</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/SidneyGod" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;SidneyGod" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:sidneyding183@gmail.com" title="E-Mail → mailto:sidneyding183@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="cc-license site-overview-item animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://google.com/" title="https:&#x2F;&#x2F;google.com" rel="noopener" target="_blank">Google</a></li><li class="links-of-blogroll-item"><a href="https://bing.com/" title="https:&#x2F;&#x2F;bing.com" rel="noopener" target="_blank">Bing</a></li></ul></div></div></div><div class="back-to-top animated" role="button" aria-label="Back to top"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class="sidebar-dimmer"></div></header><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/SidneyGod" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sidneygod.gitlab.io/posts/95b3592b/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="Sidney Ding"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Quickly build gitbook | Sidney God"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Quickly build gitbook</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-06-20 23:14:37" itemprop="dateCreated datePublished" datetime="2020-06-20T23:14:37+08:00">2020-06-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2022-05-24 23:09:45" itemprop="dateModified" datetime="2022-05-24T23:09:45+08:00">2022-05-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Other/" itemprop="url" rel="index"><span itemprop="name">Other</span></a> </span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Changyan: </span><a title="Quickly build gitbook" href="/posts/95b3592b/#SOHUCS" itemprop="discussionUrl"><span id="sourceId::53e0b8457a6a333bd8584d00c7ac714c" class="cy_cmt_count" itemprop="commentCount"></span> </a></span><span class="post-meta-break"></span> <span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>16k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>14 mins.</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="0-start"><a href="#0-start" class="headerlink" title="0 start"></a>0 start</h1><p>感觉最近看的不少东西都是用gitbook写的，看起来也确实怪舒服的，举个例子：<a target="_blank" rel="noopener" href="https://lingcoder.github.io/OnJava8/#/sidebar">https://lingcoder.github.io/OnJava8/#/sidebar</a>，既能当博客又能当Wiki，于是我准备自己搭建一个。参考网上的步骤：</p><ol><li><p>文档编写采用统一标准，都用Markdown格式的，最后可以用gitbook自动生成静态网页；</p></li><li><p>分配好各阶段（版本）相关责任人编写的文档，待文档编写完成后统一上传到git；</p></li><li><p>jenkins负责拉取正式版本（release开头）的文档，用gitbook编译后，同步到云端文档服务器</p></li><li><p>云端服务器制作一个入口页面，页面里面可以指引各个版本文档；http服务用nginx，指引到这个页面；</p></li></ol><p>其中第三步我觉得没必要用Jenkins，直接设置一个定时任务就好了。。其实搭建一个从零开始搭建一个完整Gitbook还是比较麻烦的，详情参考下方的参考文档。我既然说了快速，那必然是简单而又傻瓜式的搭建了..Let’s go!</p><span id="more"></span><p>参考文档：</p><p><a target="_blank" rel="noopener" href="http://huaqianlee.github.io/2019/05/05/Git/gitlab-jenkins-gitbook-to-create-LAN-gitbook/">Gitbook + Jenkins + Gitlab 搭建内网自动构建的 Gitbook</a></p><p><a target="_blank" rel="noopener" href="http://gitbook.zhangjikai.com/installation.html">Gitbook使用教程</a></p><p><a target="_blank" rel="noopener" href="https://www.bookstack.cn/read/yangzh-gitbook/f515035a29711964.md">Gitbook学习笔记</a></p><p><a href="GitBook%E6%8F%92%E4%BB%B6%E6%95%B4%E7%90%86">Gitbook插件整理</a></p><p><a target="_blank" rel="noopener" href="https://blog.zhenglin.work/other/devops_practices_gitbook_web.html#%E5%88%A9%E7%94%A8gitbookgitjenkinsnodejs%E6%90%AD%E5%BB%BA%E8%B5%B7%E4%B8%80%E5%A5%97%E5%A4%9A%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E%E7%9A%84%E6%96%87%E6%A1%A3%E7%BD%91%E7%AB%99">利用gitbook+git+jenkins+nodejs搭建起一套多版本说明的文档网站</a></p><h1 id="1-准备环境"><a href="#1-准备环境" class="headerlink" title="1 准备环境"></a>1 准备环境</h1><h2 id="1-1-设置root密码"><a href="#1-1-设置root密码" class="headerlink" title="1.1 设置root密码"></a>1.1 设置root密码</h2><p>准备环境这一步很基础也很重要，我使用的是Ubuntu16的虚拟机，打开虚拟机后<strong>先确保root用户是有密码</strong>的，不是sudo的密码，可以在终端试试<code>su</code>能不能切换到root，如果不行，先给root设置密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo passwd root  <span class="comment"># 设置一次密码就好了 以后就可以用su切换root了</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> sidney: </span><br><span class="line">Enter new UNIX password: </span><br><span class="line">Retype new UNIX password: </span><br><span class="line">passwd: password updated successfully</span><br><span class="line">sidney@ubuntu:~$ </span><br></pre></td></tr></table></figure><h2 id="1-2-创建git用户"><a href="#1-2-创建git用户" class="headerlink" title="1.2 创建git用户"></a>1.2 创建git用户</h2><p>为了不影响当前的环境，我们先创建一个git用户，这个git也可以换成其他喜欢的字符</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo adduser git</span><br><span class="line">Adding user `git<span class="string">&#x27; ...</span></span><br><span class="line"><span class="string">Adding new group `git&#x27;</span> (1001) ...</span><br><span class="line">Adding new user `git<span class="string">&#x27; (1001) with group `git&#x27;</span> ...</span><br><span class="line">Creating home directory `/home/git<span class="string">&#x27; ...</span></span><br><span class="line"><span class="string">Copying files from `/etc/skel&#x27;</span> ...</span><br><span class="line">Enter new UNIX password: </span><br><span class="line">Retype new UNIX password: </span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information <span class="keyword">for</span> git</span><br><span class="line">Enter the new value, or press ENTER <span class="keyword">for</span> the default</span><br><span class="line">	Full Name []: </span><br><span class="line">	Room Number []: </span><br><span class="line">	Work Phone []: </span><br><span class="line">	Home Phone []: </span><br><span class="line">	Other []: </span><br><span class="line">Is the information correct? [Y/n] y</span><br><span class="line">sidney@ubuntu:~$ </span><br></pre></td></tr></table></figure><p>创建好git用户后，应该就有<code>/home/git</code>目录了，如果没有的话..自己想办法吧..</p><h2 id="1-3-下载环境"><a href="#1-3-下载环境" class="headerlink" title="1.3 下载环境"></a>1.3 下载环境</h2><p>这里用我打包好的环境，省时省力，解压改点东西就能用了，下载链接：</p><p>蓝奏云：<a target="_blank" rel="noopener" href="https://sidneygod.lanzous.com/iwOFzdwazyj">https://sidneygod.lanzous.com/iwOFzdwazyj</a><br>密码:sidney</p><p>天翼云：<a target="_blank" rel="noopener" href="https://cloud.189.cn/t/eAnyamUNBrum">https://cloud.189.cn/t/eAnyamUNBrum</a><br>访问码：jtv3</p><p>没错，就是不提供百度云..这里先把git和openssh-server安装了，顺便当前用户生成个公钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ sudo apt-get install git  <span class="comment"># 安装git 我安装过了 所以结果不一样</span></span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">git is already the newest version (1:1.9.1-1ubuntu0.10).</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.</span><br><span class="line">sidney@ubuntu:~$ sudo apt-get install openssh-server  <span class="comment"># 安装openssh-server</span></span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree       </span><br><span class="line">Reading state information... Done</span><br><span class="line">openssh-server is already the newest version (1:6.6p1-2ubuntu2.13).</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.</span><br><span class="line">sidney@ubuntu:~$ ssh-keygen  <span class="comment"># 生成公钥 这个我也生成过了..</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/sidney/.ssh/id_rsa): </span><br><span class="line">/home/sidney/.ssh/id_rsa already exists.</span><br><span class="line">Overwrite (y/n)? y</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/sidney/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/sidney/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line"><span class="built_in">cd</span>:f8:18:9a:8b:de:91:d0:e0:ce:d3:5c:93:5a:37:dc sidney@ubuntu</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+--[ RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|    .            |</span></span><br><span class="line"><span class="string">|   . o   * .     |</span></span><br><span class="line"><span class="string">|    o . S * E    |</span></span><br><span class="line"><span class="string">|   o + B * .     |</span></span><br><span class="line"><span class="string">|    + O . .      |</span></span><br><span class="line"><span class="string">|     + o         |</span></span><br><span class="line"><span class="string">|   .o o          |</span></span><br><span class="line"><span class="string">+-----------------+</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo vim /etc/ssh/ssh_config  # 大概在39行 把Port 22注释打开 默认端口</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo /etc/init.d/ssh stop  # 重启一下ssh服务</span></span><br><span class="line"><span class="string">[ ok ] Stopping ssh (via systemctl): ssh.service.</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$ sudo /etc/init.d/ssh start</span></span><br><span class="line"><span class="string">[ ok ] Starting ssh (via systemctl): ssh.service.</span></span><br><span class="line"><span class="string">sidney@ubuntu:~$</span></span><br></pre></td></tr></table></figure><p>哦，对了，如果没配置git，顺便把git配置一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Sidney Ding&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;sidneyding183@gmail.com&quot;</span></span><br></pre></td></tr></table></figure><p>这个环境配置的差不多了..接下来该处理我们下载下来的文件<code>git.zip</code>了</p><h2 id="1-4-解压git-zip"><a href="#1-4-解压git-zip" class="headerlink" title="1.4 解压git.zip"></a>1.4 解压git.zip</h2><p>首先，在终端切换用户到git，并把git.zip拷贝到<code>/home/git</code>下，然后来一个一个配置..</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ su git  <span class="comment"># 切换用户</span></span><br><span class="line">Password: </span><br><span class="line">git@ubuntu:/home/sidney$ <span class="built_in">cd</span> ~  <span class="comment"># 进入git的home目录</span></span><br><span class="line">git@ubuntu:~$ ll git.zip </span><br><span class="line">-rw-r--r-- 1 root root 96128663 Jun 21 00:20 git.zip</span><br><span class="line">git@ubuntu:~$ sudo <span class="built_in">chmod</span> 666 git.zip  <span class="comment"># 改变模式失败..</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git is not <span class="keyword">in</span> the sudoers file.  This incident will be reported.</span><br><span class="line">git@ubuntu:~$ </span><br></pre></td></tr></table></figure><p>在git中调用<code>sudo</code>，不出意外都会报这个错的<code>git is not in the sudoers file. This incident will be reported.</code>，接下来的操作，**<font color="red">一定要确保root有密码！一定要确保root有密码！一定要确保root有密码！</font>**</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~$ su  <span class="comment"># 切换到root用户</span></span><br><span class="line">Password: </span><br><span class="line">root@ubuntu:/home/git<span class="comment"># ll /etc/sudoers  # 查看文件权限</span></span><br><span class="line">-r--r----- 1 root root 755 Jun 20 23:54 /etc/sudoers</span><br><span class="line">root@ubuntu:/home/git<span class="comment"># chmod 0660 /etc/sudoers  # 加个可以写的权限</span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># vim /etc/sudoers  # 在这个文件中加一句  git ALL=(ALL) ALL </span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># chmod 0440 /etc/sudoers  # 一定要把权限改回去 不然大家都不能用sudo了</span></span><br><span class="line">root@ubuntu:/home/git<span class="comment"># ll /etc/sudoers</span></span><br><span class="line">-r--r----- 1 root root 773 Jun 21 00:30 /etc/sudoers</span><br><span class="line">root@ubuntu:/home/git<span class="comment"># exit  # 退出root</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">git@ubuntu:~$ sudo <span class="built_in">chmod</span> 666 git.zip  <span class="comment"># 再次修改git.zip权限</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git@ubuntu:~$ ll git.zip </span><br><span class="line">-rw-rw-rw- 1 root root 96128663 Jun 21 00:20 git.zip  <span class="comment"># 没毛病</span></span><br><span class="line">git@ubuntu:~$ </span><br></pre></td></tr></table></figure><p>如果你在这不小心，用sudo改了<code>/etc/sudoers</code>的模式，然后你还没有root密码..作孽啊，用下面的方法试试能不能救..不然重装系统吧</p><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sea-stream/p/9852478.html">sudo: &#x2F;etc&#x2F;sudoers is world writable sudo: no valid sudoers sources found</a></p><p>终于可以解压了..</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~$ unzip git.zip </span><br><span class="line">Archive:  git.zip</span><br><span class="line">   creating: book/</span><br><span class="line">  inflating: book/serve.log          </span><br><span class="line">  inflating: book/book.json          </span><br><span class="line">  inflating: book/package-lock.json  </span><br><span class="line">  inflating: book/commands.txt</span><br><span class="line">  ...</span><br><span class="line">git@ubuntu:~$ ll  <span class="comment"># 解压完的目录应该是这样的</span></span><br><span class="line">total 93932</span><br><span class="line">drwxr-xr-x 7 git  git      4096 Jun 21 00:38 ./</span><br><span class="line">drwxr-xr-x 4 root root     4096 Jun 21 00:02 ../</span><br><span class="line">-rw------- 1 git  git       100 Jun 21 00:24 .bash_history</span><br><span class="line">-rw-r--r-- 1 git  git       220 Jun 21 00:02 .bash_logout</span><br><span class="line">-rw-r--r-- 1 git  git      3771 Jun 21 00:02 .bashrc  <span class="comment"># 这个必须在</span></span><br><span class="line">drwxrwxr-x 6 git  git      4096 Jun 20 22:39 book/  <span class="comment"># 必须</span></span><br><span class="line">drwxrwxr-x 7 git  git      4096 Jun 20 09:10 book.git/  <span class="comment"># 必须</span></span><br><span class="line">-rw-r--r-- 1 git  git      8980 Jun 21 00:02 examples.desktop</span><br><span class="line">-rw-rw-rw- 1 root root 96128663 Jun 21 00:20 git.zip</span><br><span class="line">drwxrwxr-x 6 git  git      4096 Jun 20 22:45 nginx/  <span class="comment"># 必须</span></span><br><span class="line">drwxr-xr-x 9 git  git      4096 Jun 20 22:30 nginx-1.18.0/</span><br><span class="line">drwxr-xr-x 7 git  git      4096 Jun 20 09:30 node-v12.18.1-linux-x64/  <span class="comment"># 必须</span></span><br><span class="line">-rw-r--r-- 1 git  git       655 Jun 21 00:02 .profile  <span class="comment"># 必须</span></span><br></pre></td></tr></table></figure><p>如果缺了必须的文件，是一件很麻烦的事..</p><h2 id="1-5-配置环境"><a href="#1-5-配置环境" class="headerlink" title="1.5 配置环境"></a>1.5 配置环境</h2><p>接下来要配置的就不多了</p><h3 id="1-5-1-node-js"><a href="#1-5-1-node-js" class="headerlink" title="1.5.1 node.js"></a>1.5.1 node.js</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置node.js环境变量</span></span><br><span class="line">git@ubuntu:~$ <span class="built_in">cd</span> node-v12.18.1-linux-x64/bin</span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">pwd</span></span><br><span class="line">/home/git/node-v12.18.1-linux-x64/bin  <span class="comment"># 注意这个路径</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ vim ~/.bashrc  <span class="comment"># 主要是把那个路径添加到环境变量</span></span><br><span class="line">    <span class="comment"># node.js</span></span><br><span class="line">    <span class="built_in">export</span> PATH=/home/git/node-v12.18.1-linux-x64/bin:<span class="variable">$PATH</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">source</span> ~/.bashrc</span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ node -v</span><br><span class="line">v12.18.1  <span class="comment"># 能正确显示版本 说明没问题</span></span><br><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$</span><br></pre></td></tr></table></figure><h3 id="1-5-2-gitbook"><a href="#1-5-2-gitbook" class="headerlink" title="1.5.2 gitbook"></a>1.5.2 gitbook</h3><p>先去看看gitbook能不能用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/node-v12.18.1-linux-x64/bin$ <span class="built_in">cd</span> ~/book</span><br><span class="line">git@ubuntu:~/book$ gitbook -V  <span class="comment"># 耐心等一会，需要安装点东西</span></span><br><span class="line">CLI version: 2.3.2</span><br><span class="line">Installing GitBook 3.2.3</span><br><span class="line">...</span><br><span class="line">GitBook version: 3.2.3</span><br><span class="line">git@ubuntu:~/book$ gitbook serve  <span class="comment"># 先爽一下 报error不用管 那个是我故意写错的 一个插件导致的</span></span><br><span class="line">Live reload server started on port: 35729</span><br><span class="line">Press CTRL+C to quit ...</span><br><span class="line">...</span><br><span class="line">Starting server ...</span><br><span class="line">Serving book on http://localhost:4000</span><br></pre></td></tr></table></figure><p>这个时候，打开浏览器，访问<code>http://127.0.0.1:4000</code>应该是能访问的，如下图</p><p><img data-src="/assets/Quickly-build-gitbook/gitbook_display.png" alt="gitbook_display"></p><h3 id="1-5-3-git"><a href="#1-5-3-git" class="headerlink" title="1.5.3 git"></a>1.5.3 git</h3><p>再配置一下我们的仓库</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ cd docs/</span><br><span class="line">git@ubuntu:~/book/docs$ ifconfig  # 先看一下本机ip 毕竟要大家一起玩嘛..</span><br><span class="line">ens33     Link encap:Ethernet  HWaddr 00:0c:29:6b:c5:06  </span><br><span class="line">          inet addr:192.168.1.109  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          ...</span><br><span class="line"></span><br><span class="line">git@ubuntu:~/book/docs$ vim .git/config</span><br><span class="line">    [remote &quot;origin&quot;]</span><br><span class="line">            url = git@192.168.1.109:/home/git/book.git  # 重点是这句 自行修改一下</span><br><span class="line">            fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果没问题的话 我们更新一下代码试试</span></span><br><span class="line">git@ubuntu:~/book/docs$ git pull origin master  # 更新代码应该是没问题的 并且是最新的</span><br><span class="line">The authenticity of host &#x27;192.168.1.109 (192.168.1.109)&#x27; can&#x27;t be established.</span><br><span class="line">ECDSA key fingerprint is 0a:0a:d6:c8:7d:cf:b1:75:8e:c4:fe:ac:13:16:aa:f8.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added &#x27;192.168.1.109&#x27; (ECDSA) to the list of known hosts.</span><br><span class="line">git@192.168.1.109&#x27;s password: </span><br><span class="line">From 192.168.1.109:/home/git/book</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line">Already up-to-date.</span><br><span class="line">git@ubuntu:~/book/docs$ vim README.md  # 我们修改一下README.md  干掉那个error</span><br><span class="line">git@ubuntu:~/book/docs$ git diff</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index 71a64d2..7119efd 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -3,4 +3,7 @@ just for a test..</span><br><span class="line"> </span><br><span class="line"> test2..</span><br><span class="line"> what is Markdown?</span><br><span class="line">+&#x27;&#x27;&#x27;bash  # 主要是把这里的txt换成一种语言</span><br><span class="line">+hahaha, kanni zenme ban?</span><br><span class="line">+&#x27;&#x27;&#x27;</span><br><span class="line">git@ubuntu:~/book/docs$ git add README.md  # 下面是验证一笔提交..</span><br><span class="line">git@ubuntu:~/book/docs$ git commit -m &quot;change txt to bash&quot;</span><br><span class="line"></span><br><span class="line">*** Please tell me who you are.</span><br><span class="line"></span><br><span class="line">Run</span><br><span class="line"></span><br><span class="line">  git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">  git config --global user.name &quot;Your Name&quot;</span><br><span class="line"></span><br><span class="line">to set your account&#x27;s default identity.</span><br><span class="line">Omit --global to set the identity only in this repository.</span><br><span class="line"></span><br><span class="line">fatal: empty ident name (for &lt;git@ubuntu.(none)&gt;) not allowed</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">忘了配置git了..</span></span><br><span class="line">git@ubuntu:~/book/docs$ git config --global user.email &quot;sidneyding183@gmail.com&quot;</span><br><span class="line">git@ubuntu:~/book/docs$ git config --global user.name &quot;SidneyGod&quot;</span><br><span class="line">git@ubuntu:~/book/docs$ git commit -m &quot;change txt to bash&quot;</span><br><span class="line">[master 3906bd7] change txt to bash</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line">git@ubuntu:~/book/docs$ git push origin master  # 说明push也没有问题</span><br><span class="line">git@192.168.1.109&#x27;s password: </span><br><span class="line">Counting objects: 5, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 350 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">To git@192.168.1.109:/home/git/book.git</span><br><span class="line">   f242669..3906bd7  master -&gt; master</span><br><span class="line">git@ubuntu:~/book/docs$ </span><br><span class="line">git@ubuntu:~/book/docs$ cd ../</span><br><span class="line">git@ubuntu:~/book$ gitbook build &amp;&amp; gitbook serve  # 这次就不会报error了</span><br><span class="line">info: 29 plugins are installed </span><br><span class="line">info: 24 explicitly listed</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>这一步其实是为了确定仓库是好的，我才不会用<code>gitbook serve</code>呢！</p><h3 id="1-5-4-nginx"><a href="#1-5-4-nginx" class="headerlink" title="1.5.4 nginx"></a>1.5.4 nginx</h3><p>这东西也不用了解太多，用就完事了..</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ <span class="built_in">cd</span> ../nginx</span><br><span class="line">git@ubuntu:~/nginx$ <span class="built_in">pwd</span></span><br><span class="line">/home/git/nginx</span><br><span class="line">git@ubuntu:~/nginx$ vim conf/nginx.conf  <span class="comment"># 先看一下第29行配置对不对</span></span><br><span class="line">    <span class="built_in">alias</span> /home/git/book/_book;  <span class="comment"># 如果_book不在这个目录 修改一下</span></span><br><span class="line">git@ubuntu:~/nginx$ </span><br><span class="line">git@ubuntu:~/nginx$ sudo ./sbin/nginx -p /home/git/nginx  <span class="comment"># 运行nginx</span></span><br><span class="line">[sudo] password <span class="keyword">for</span> git: </span><br><span class="line">git@ubuntu:~/nginx$ <span class="built_in">ls</span>  <span class="comment"># 运行完 多几个temp才是正常的</span></span><br><span class="line">client_body_temp  conf  fastcgi_temp  html  logs  proxy_temp  sbin  scgi_temp  uwsgi_temp</span><br></pre></td></tr></table></figure><p>这个时候应该可以通过<code>http://192.168.1.109/book</code>来访问了，访问成改表示nginx配置成功，<code>http://192.168.1.109/</code>就可以用来”<strong>制作一个入口页面，页面里面可以指引各个版本文档</strong>“，多本gitbook才是最终目标</p><h3 id="1-5-5-git-hook"><a href="#1-5-5-git-hook" class="headerlink" title="1.5.5 git hook"></a>1.5.5 git hook</h3><p>之前用的定时..感觉还是不行，不好用，于是发现git新大陆，叫git hook，先到<code>book.git</code>仓库看看吧</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book.git/hooks$ <span class="built_in">pwd</span>  <span class="comment"># 注意这个目录</span></span><br><span class="line">/home/git/book.git/hooks</span><br><span class="line">git@ubuntu:~/book.git/hooks$ vim post-receive  <span class="comment"># 创建post-receive文件 当有push就会执行</span></span><br><span class="line">git@ubuntu:~/book.git/hooks$ <span class="built_in">chmod</span> a+x post-receive  <span class="comment"># 加可执行权限</span></span><br></pre></td></tr></table></figure><p>以下是<code>post-receive</code>内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">set</span> -e  <span class="comment"># 这两句调试用的</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">set</span> -x</span></span><br><span class="line"></span><br><span class="line">PATH=/home/git/node-v12.18.1-linux-x64/bin/:$PATH  # 这里路径</span><br><span class="line"></span><br><span class="line">IS_BARE=$(git rev-parse --is-bare-repository)</span><br><span class="line">if [ -z &quot;$IS_BARE&quot; ]; then</span><br><span class="line">    echo &gt;&amp;2 &quot;fatal: post-receive: IS_NOT_BARE&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">unset GIT_DIR</span><br><span class="line">cd &#x27;/home/git/book/docs&#x27;  # 注意这里的路径</span><br><span class="line">echo &quot;deploying the gitbook..&quot;</span><br><span class="line">result=`git pull origin master`</span><br><span class="line">[[ $result = &quot;Already up-to-date.&quot; ]] &amp;&amp; exit 0 || echo &quot;File updated&quot;</span><br><span class="line">cd &#x27;/home/git/book&#x27;  # 还有这里</span><br><span class="line">gitbook build</span><br></pre></td></tr></table></figure><p>这样就特别完美了..哈哈..比定时任务高大上多了..</p><h3 id="1-5-6-crontab"><a href="#1-5-6-crontab" class="headerlink" title="1.5.6 crontab"></a><del>1.5.6 crontab</del></h3><p>其实到这里就已经好了，让nginx一直在后台运行就好了，如果<code>/home/git/book/docs</code>有变动，比如新的文档啥的，就在<code>/home/git/book</code>目录下执行一次<code>gitbook build</code>就好了，但是怎么说呢？太累。写完文档push完了，你还得再去pull一次，麻烦，所以才有上面的Jenkins监听push行为，然后自动进行更新docs，并执行<code>gitbook build</code>，我觉得这太大材小用了，webhookit或许不错，不过我最终还是觉得定时任务最方便..</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先 把本机的公钥加到.ssh/authorized_keys中</span></span><br><span class="line">git@ubuntu:~/book$ ssh-keygen</span><br><span class="line">git@ubuntu:~/book$ <span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span><br><span class="line">git@ubuntu:~/book$ vim ~/.ssh/authorized_keys  <span class="comment"># 什么没有这个文件 那建一个呗</span></span><br><span class="line"><span class="comment"># 然后写一个简单的脚本..</span></span><br><span class="line">git@ubuntu:~/book$ vim build.sh  <span class="comment"># 简单的更新并build的脚本</span></span><br><span class="line">    <span class="comment">#!/bin/bash</span></span><br><span class="line">    <span class="built_in">set</span> -e</span><br><span class="line">    <span class="built_in">set</span> -x</span><br><span class="line"></span><br><span class="line">    PATH=/home/git/node-v12.18.1-linux-x64/bin/:<span class="variable">$PATH</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="string">&#x27;/home/git/book/docs&#x27;</span></span><br><span class="line">    result=`git pull origin master`</span><br><span class="line">    [[ <span class="variable">$result</span> = <span class="string">&quot;Already up-to-date.&quot;</span> ]] &amp;&amp; <span class="built_in">exit</span> 0 || <span class="built_in">echo</span> <span class="string">&quot;File updated&quot;</span></span><br><span class="line">    <span class="built_in">cd</span> <span class="string">&#x27;/home/git/book&#x27;</span></span><br><span class="line">    gitbook build</span><br><span class="line">git@ubuntu:~/book$ <span class="built_in">chmod</span> a+x build.sh</span><br><span class="line"><span class="comment"># 设置定时任务</span></span><br><span class="line">git@ubuntu:~/book$ crontab -e</span><br><span class="line"></span><br><span class="line">Select an editor.  To change later, run <span class="string">&#x27;select-editor&#x27;</span>.</span><br><span class="line">  1. /bin/ed</span><br><span class="line">  2. /bin/nano        &lt;---- easiest</span><br><span class="line">  3. /usr/bin/vim.basic</span><br><span class="line"></span><br><span class="line">Choose 1-3 [2]: 3</span><br><span class="line">    <span class="comment"># 加了这么一句 一分钟执行一次脚本，并输出log..</span></span><br><span class="line">    */1 * * * * /bin/bash /home/git/book/build.sh &gt;&gt; /home/git/book/crontab.log 2&gt;&amp;1</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">git@ubuntu:~/book$ service cron restart  <span class="comment"># 重启cron服务</span></span><br></pre></td></tr></table></figure><p>可算是大功告成了！</p><h1 id="2-多人协作"><a href="#2-多人协作" class="headerlink" title="2 多人协作"></a>2 多人协作</h1><p>要git本就是为了多人协作，这时候再开一个终端，查看另一个用户的公钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ <span class="built_in">cat</span> .ssh/id_rsa.pub  <span class="comment"># 注意 这里不是 git@ubuntu了</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDkdVqvsdIjn28XEA4wC29SyiQALP9eLyOXC/WRuPR4WHagVCu8JO415oHgUo8uAlXIQAS2AcAQA+1bzuipSmCEo2RtIgLovjoI1Iqw475NP+ExlkRjw4Z sidney@ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将sidney的公钥加到git的.ssh/authorized_keys中</span></span><br><span class="line">git@ubuntu:~$ vim ~/.ssh/authorized_keys  <span class="comment"># 注意这里是git@ubuntu</span></span><br></pre></td></tr></table></figure><p>接下来呢，当然是要尝试拉代码和推代码了，哦不，是文档..</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">sidney@ubuntu:~$ <span class="built_in">cd</span> Downloads/</span><br><span class="line"><span class="comment"># 克隆仓库 没有问题..</span></span><br><span class="line">sidney@ubuntu:~/Downloads$ git <span class="built_in">clone</span> git@192.168.1.109:/home/git/book.git</span><br><span class="line">Cloning into <span class="string">&#x27;book&#x27;</span>...</span><br><span class="line">remote: Counting objects: 46, <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (35/35), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 46 (delta 11), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (46/46), 4.94 KiB | 0 bytes/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (11/11), <span class="keyword">done</span>.</span><br><span class="line">Checking connectivity... <span class="keyword">done</span>.</span><br><span class="line">sidney@ubuntu:~/Downloads$ <span class="built_in">cd</span> book/</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ <span class="built_in">ls</span></span><br><span class="line">ch1  GLOSSARY.md  last_ch  README.md  SUMMARY.md</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ vim README.md  <span class="comment"># 修改README.md</span></span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with <span class="string">&#x27;origin/master&#x27;</span>.</span><br><span class="line"></span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">	modified:   README.md</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git diff</span><br><span class="line">diff --git a/README.md b/README.md</span><br><span class="line">index aae20fc..a35bf2b 100644</span><br><span class="line">--- a/README.md</span><br><span class="line">+++ b/README.md</span><br><span class="line">@@ -1,4 +1,5 @@</span><br><span class="line"> <span class="comment"># Introduction</span></span><br><span class="line">+我是最棒的！</span><br><span class="line"> just <span class="keyword">for</span> a <span class="built_in">test</span>..</span><br><span class="line"> </span><br><span class="line"> test2..</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git add README.md</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git commit -m <span class="string">&quot;test&quot;</span></span><br><span class="line">[master 7f99d72] <span class="built_in">test</span></span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git push origin master  <span class="comment"># 推也没问题</span></span><br><span class="line">Counting objects: 5, <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (3/3), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 366 bytes | 0 bytes/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">To git@192.168.1.109:/home/git/book.git</span><br><span class="line">   3906bd7..7f99d72  master -&gt; master</span><br><span class="line">sidney@ubuntu:~/Downloads/book$ git pull origin master  <span class="comment"># 拉代码也没问题</span></span><br><span class="line">From 192.168.1.109:/home/git/book</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line">Already up-to-date.</span><br><span class="line">sidney@ubuntu:~/Downloads/book$</span><br></pre></td></tr></table></figure><p>耐心等待个一两分钟..再刷新页面，应该是能看到变化的，如果没变化，那么可能是定时任务出问题了，或者脚本有问题..这么看的话，多人协作是没有问题的了</p><h1 id="3-gitbook使用"><a href="#3-gitbook使用" class="headerlink" title="3 gitbook使用"></a>3 gitbook使用</h1><p>想知道详细信息的可以百度或者看上面我提供的几条链接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ tree -L 1</span><br><span class="line">.</span><br><span class="line">├── _book  <span class="comment"># gitbook生成的静态网页的地方</span></span><br><span class="line">├── book.json  <span class="comment"># gitbook配置文件 包括安装插件什么的 我已经安装差不多了</span></span><br><span class="line">├── build.sh  <span class="comment"># 自己写的更新脚本</span></span><br><span class="line">├── commands.txt  <span class="comment"># 常用命令记录</span></span><br><span class="line">├── docs  <span class="comment"># 存储源文档仓库</span></span><br><span class="line">├── node_modules  <span class="comment"># 安装的插件</span></span><br><span class="line">├── package-lock.json  <span class="comment"># 安装的插件列表/信息</span></span><br><span class="line">├── serve.log</span><br><span class="line">└── style  <span class="comment"># 自定义样式表</span></span><br></pre></td></tr></table></figure><p>由于配置啥的我已经弄得差不多了，直接说说怎么用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git@ubuntu:~/book$ tree docs/</span><br><span class="line">docs/</span><br><span class="line">├── ch1</span><br><span class="line">│   ├── ch1.1</span><br><span class="line">│   │   └── ch1.1.md</span><br><span class="line">│   └── Chapter1.md</span><br><span class="line">├── GLOSSARY.md</span><br><span class="line">├── last_ch</span><br><span class="line">│   └── last_ch.md</span><br><span class="line">├── README.md</span><br><span class="line">└── SUMMARY.md</span><br><span class="line"></span><br><span class="line">3 directories, 6 files</span><br></pre></td></tr></table></figure><h2 id="3-1-SUMMARY-md"><a href="#3-1-SUMMARY-md" class="headerlink" title="3.1 SUMMARY.md"></a>3.1 SUMMARY.md</h2><p>概要文件主要存放 GitBook 的文件目录信息，左侧的目录就是根据这个文件来生成的，默认对应的文件是 SUMMARY.md，可以在book.json重新定义该文件的对应值。它通过Markdown中的<strong>列表语法</strong>(其实就是<strong>通过缩进</strong>)来表示文件的父子关系，下面是一个简单的示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Summary</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> [<span class="string">Introduction</span>](<span class="link">README.md</span>)</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="section"># PART I  &lt;!-- 这个懂吧 --&gt;</span></span><br><span class="line"><span class="bullet">*</span> [<span class="string">CHAPTER 1</span>](<span class="link">./ch1/Chapter1.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">ch1.1</span>](<span class="link">./ch1/ch1.1/ch1.1.md</span>)  &lt;!-- 支持文档做子目录 --&gt;</span><br><span class="line"></span><br><span class="line">------  &lt;!-- 章节分割线 --&gt;</span><br><span class="line"><span class="bullet">*</span> [<span class="string">Last Chapter</span>](<span class="link">./last_ch/last_ch.md</span>)</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">title1</span>](<span class="link">./last_ch/last_ch.md#title1</span>)  &lt;!-- 也支持文件中的锚点做目录 --&gt;</span><br><span class="line"><span class="bullet">    *</span> [<span class="string">title2</span>](<span class="link">./last_ch/last_ch.md#title2</span>)</span><br><span class="line"><span class="bullet">        *</span> [<span class="string">title2.1</span>](<span class="link">./last_ch/last_ch.md#title2-1</span>)</span><br><span class="line"><span class="bullet">            *</span> [<span class="string">title2.1</span>](<span class="link">./last_ch/last_ch.md#title2-1-1</span>)</span><br><span class="line"><span class="bullet">        *</span> [<span class="string">title2.2</span>](<span class="link">./last_ch/last_ch.md#title2-2</span>)</span><br></pre></td></tr></table></figure><p>可以对比着看</p><h2 id="3-2-GLOSSARY-md"><a href="#3-2-GLOSSARY-md" class="headerlink" title="3.2 GLOSSARY.md"></a>3.2 GLOSSARY.md</h2><p>专业词汇表文件，默认对应的文件是 <code>GLOSSARY.md</code>。该文件主要存储词汇信息，如果在其他页面中出现了该文件中的词汇，鼠标放到词汇上会给出词汇示意，看一下基本格式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Markdown</span></span><br><span class="line">简洁优雅的排版语言,简化版的 <span class="code">`HTML`</span>,加强版的 <span class="code">`TXT`</span>,详情请google</span><br><span class="line"></span><br><span class="line"><span class="section">## git</span></span><br><span class="line">分布式版本控制系统,详情请google</span><br></pre></td></tr></table></figure><h2 id="3-3-book-json"><a href="#3-3-book-json" class="headerlink" title="3.3 book.json"></a>3.3 book.json</h2><p>这个是全局的额配置文件，节选部分</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;root&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./docs&quot;</span><span class="punctuation">,</span>  <span class="comment">// 定义文档的根目录</span></span><br><span class="line">    <span class="attr">&quot;links&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;sidebar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;Baidu&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://www.baidu.com/&quot;</span>  <span class="comment">// 这个是侧边栏的链接</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;en&quot;</span><span class="punctuation">,</span>  <span class="comment">// 定义语言</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;No description!&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;isbn&quot;</span><span class="punctuation">:</span> <span class="string">&quot;978-0-13-601970-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SidneyGod&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A Book with Gitbook&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span>  <span class="comment">// 安装的插件列表</span></span><br><span class="line">        <span class="string">&quot;-lunr&quot;</span><span class="punctuation">,</span> <span class="string">&quot;-search&quot;</span><span class="punctuation">,</span> <span class="string">&quot;search-pro&quot;</span><span class="punctuation">,</span></span><br><span class="line">        ...<span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;anchor-navigation-ex&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pluginsConfig&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>  <span class="comment">// 插件配置</span></span><br><span class="line">        <span class="attr">&quot;chart&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c3&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        ...<span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;prism&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;css&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;prism-themes/themes/prism-base16-ateliersulphurpool.light.css&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">&quot;styles&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>  <span class="comment">// 自定义样式表</span></span><br><span class="line">        <span class="attr">&quot;website&quot;</span><span class="punctuation">:</span> <span class="string">&quot;styles/website.css&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ebook&quot;</span><span class="punctuation">:</span> <span class="string">&quot;styles/ebook.css&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;pdf&quot;</span><span class="punctuation">:</span> <span class="string">&quot;styles/pdf.css&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;mobi&quot;</span><span class="punctuation">:</span> <span class="string">&quot;styles/mobi.css&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;epub&quot;</span><span class="punctuation">:</span> <span class="string">&quot;styles/epub.css&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="3-4-new-doc"><a href="#3-4-new-doc" class="headerlink" title="3.4 new doc"></a>3.4 new doc</h2><p>添加新文档，我建议还是一条目录一个markdown文件比较好，文件夹分级与<code>SUMMARY.md</code>保持一致，我安装了很多插件，基本上所有的效果都能实现。尽情用markdown挥洒吧..</p><p>关于之前的<code>gitbook serve</code>报error问题，是因为prsim插件不识别<code>txt</code>语言导致，就是写代码块指定prsim认识的语言才不会报错，不过报错也不影响使用。prsim目前支持218种语言：<a target="_blank" rel="noopener" href="https://prismjs.com/#supported-languages">https://prismjs.com/#supported-languages</a></p><p>其他问题，自行Google..局域网中可以访问，没毛病..</p></div><footer class="post-footer"><div class="readEnd">------- This article is over <i class="fa fa-leaf" aria-hidden="true"></i> Thank you for your reading -------</div><div class="reward-container"><div>All I need is you needing me.</div><button>Donate</button><div class="post-reward"><div><img src="/images/wechatpay.png" alt="Sidney Ding WeChat Pay"> <span>WeChat Pay</span></div><div><img src="/images/alipay.jpg" alt="Sidney Ding Alipay"> <span>Alipay</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>Post author: </strong>Sidney Ding</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://sidneygod.gitlab.io/posts/95b3592b/" title="Quickly build gitbook">https://sidneygod.gitlab.io/posts/95b3592b/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="post-tags"><a href="/tags/blog/" rel="tag"><i class="fa fa-tag"></i> blog</a> <a href="/tags/gitbook/" rel="tag"><i class="fa fa-tag"></i> gitbook</a> <a href="/tags/wiki/" rel="tag"><i class="fa fa-tag"></i> wiki</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/ea0e14e5/" rel="prev" title="[Relearning C/Cpp] Operators and Expressions"><i class="fa fa-chevron-left"></i> [Relearning C/Cpp] Operators and Expressions</a></div><div class="post-nav-item"><a href="/posts/4163f7c1/" rel="next" title="[Relearning C/Cpp] Statements and Preprocessor">[Relearning C/Cpp] Statements and Preprocessor <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="SOHUCS" sid="53e0b8457a6a333bd8584d00c7ac714c"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Sidney Ding</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>Symbols count total: </span><span title="Symbols count total">273k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>Reading time total &asymp;</span> <span title="Reading time total">4:08</span></span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a></div><div><span><i class="fa-solid fa-bomb"></i> </span><span id="showDays"></span></div><script>let seconds=1e3,minutes=60*seconds,hours=60*minutes,days=24*hours,years=365*days,birthDay=Date.UTC(2019,10,1,0,0,0);setInterval((function(){let e=new Date,s=e.getFullYear(),t=e.getMonth()+1,o=e.getDate(),a=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),h=Date.UTC(s,t,o,a,n,r)-birthDay,u=Math.floor(h/years),d=Math.floor(h/days-365*u),y=Math.floor((h-(365*u+d)*days)/hours),i=Math.floor((h-(365*u+d)*days-y*hours)/minutes),l=Math.floor((h-(365*u+d)*days-y*hours-i*minutes)/seconds);document.getElementById("showDays").innerHTML="This website has been running for "+u+" years, "+d+" days, "+y+" hours, "+i+" minutes, "+l+" seconds"}),1e3)</script></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer"}</script><script src="/js/third-party/tags/pdf.js"></script><script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.1/mermaid.min.js","integrity":"sha256-8L3O8tirFUa8Va4NSTAyIbHJeLd6OnlcxgupV9F77e0="}}</script><script src="/js/third-party/tags/mermaid.js"></script><script src="/js/third-party/fancybox.js"></script><script src="/js/third-party/pace.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.1/es5/tex-mml-chtml.js","integrity":"sha256-hlC2uSQYTmPsrzGZTEQEg9PZ1a/+SV6VBCTclohf2og="}}</script><script src="/js/third-party/math/mathjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.2.0/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://sidneygod.gitlab.io/posts/95b3592b/"}</script><script src="/js/third-party/quicklink.js"></script><script src="/js/love.js"></script><script src="/js/show-text.js"></script><script src="/js/snowflakes.min.js"></script><script src="/js/activate-power-mode.min.js"></script><script>new Snowflakes({color:"rgba(129, 161, 193, 0.87)"}),POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script><script class="next-config" data-name="changyan" type="application/json">{"enable":true,"appid":"cyw6GhFAo","appkey":"39c16599e32c872d8661763f6b93d932"}</script><script src="/js/third-party/comments/changyan.js"></script></body></html>