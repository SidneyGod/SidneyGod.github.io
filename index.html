<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=7.4.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.4.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=7.4.1"><link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222"><link rel="alternate" href="/atom.xml" title="Sidney God" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css?v=7.4.1"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"7.4.1",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!0,lazyload:!0,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"Copy",copy_success:"Copied",copy_failure:"Copy failed"},sidebarPadding:40}</script><meta name="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta property="og:type" content="website"><meta property="og:title" content="Sidney God"><meta property="og:url" content="https://sidneygod.github.io/index.html"><meta property="og:site_name" content="Sidney God"><meta property="og:description" content="You laugh at me for being different, but I laugh at you for being the same."><meta property="og:locale" content="en_US"><meta property="article:author" content="Sidney Ding"><meta property="article:tag" content="Sidney"><meta property="article:tag" content=" Ding"><meta property="article:tag" content=" Sidney Ding"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://sidneygod.github.io/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,isPage:!1,isArchive:!1}</script><title>Sidney God</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Sidney God</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Keep quiet time for time</p></div><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">20</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">4</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives<span class="badge">22</span></a></li><li class="menu-item menu-item-resources"><a href="/resources/" rel="section"><i class="fa fa-fw fa-book"></i>Resources</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div><a class="book-mark-link book-mark-link-fixed" href="#"></a> <a href="https://github.com/SidneyGod" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/a4707db6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/a4707db6/" class="post-title-link" itemprop="url">[Make MyOS] Basic execution env & Interrupt</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-12-21 23:31:33 / Modified: 23:45:05" itemprop="dateCreated datePublished" datetime="2021-12-21T23:31:33+08:00">2021-12-21</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Make-MyOS/" itemprop="url" rel="index"><span itemprop="name">Make MyOS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/a4707db6/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/a4707db6/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>252</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>1 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><h1 id="1-执行环境介绍"><a href="#1-执行环境介绍" class="headerlink" title="1 执行环境介绍"></a>1 执行环境介绍</h1><p>在find loader那一节之后，发现后面的代码真的看不懂了，直接抄也没有意义，于是补了一下相关的知识..希望能继续下去</p><h2 id="1-1-CPU工作模式"><a href="#1-1-CPU工作模式" class="headerlink" title="1.1 CPU工作模式"></a>1.1 CPU工作模式</h2><p>参考Intel手册卷3第2.2 MODES OF OPERATION</p><p>32位的支持三种工作模式和一种准工作模式</p><ul><li><p>实地址模式(Real-address mode)，处理器上电(power-up)或复位(reset)后处于该模式。这个模式实际上是为了兼容8086，因为地址线只有20根，限制了寻址只能是1M大小，也就是通过<script type="math/tex">段寄存器 << 4 + 偏移地址</script>方式寻址。进入这个模式，也就只使用20根地址线，主要是因为A20M#引脚被屏蔽了</p></li><li><p>保护模式(Protected mode)，这个是80386时期引入的，也就是32位处理器原本的工作模式。在这个模式下不再使用<script type="math/tex">段寄存器 << 4 + 偏移地址</script>的方式寻址，而是通过段描述符的方式描述基址和限长，并通过描述符中的属性设置实现对内存段的访问限制和数据保护。</p></li><li>虚拟8086模式(Virtual-8086 mode)，是一种准工作模式，目的是为了在保护模式下能够执行8086程序<div class="post-button"><a class="btn" href="/posts/a4707db6/#more" rel="contents">Read more &raquo;</a></div></li></ul></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/1d4ddf18/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/1d4ddf18/" class="post-title-link" itemprop="url">[Make MyOS] Find loader</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-10-31 23:05:46" itemprop="dateCreated datePublished" datetime="2021-10-31T23:05:46+08:00">2021-10-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-12-26 16:17:03" itemprop="dateModified" datetime="2021-12-26T16:17:03+08:00">2021-12-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Make-MyOS/" itemprop="url" rel="index"><span itemprop="name">Make MyOS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/1d4ddf18/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/1d4ddf18/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>15k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>25 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><p>说是第三天，我看了该一个星期了..发现之前看得有点浮躁，最近看了费曼读书法有了新的想法，不怕慢，就不没看明白，所以听费曼的，每次看卡壳了，就返回去重新看..</p><p>看到这里，突然觉得还是以《64位》为主比较好，《32位》太老了，用的还是nask转换起来有点累，并且《64位》介绍得细啊，所以我悟了，《32位》用来打辅助吧..</p><h1 id="1-软盘与FAT12"><a href="#1-软盘与FAT12" class="headerlink" title="1 软盘与FAT12"></a>1 软盘与FAT12</h1><p>先来看软盘，一个PC里面可以有多个软盘，一个软盘里面包含2个磁头，80个柱面，18个扇区。因为软盘正反面都可以存储数据，所以有俩磁头去读取数据。柱面参考下图(注意编号0~79)，英文是cylinder；扇区参考下图(注意编号1~18)，英文是sector</p><div class="post-button"><a class="btn" href="/posts/1d4ddf18/#more" rel="contents">Read more &raquo;</a></div></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/c0d78c8f/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/c0d78c8f/" class="post-title-link" itemprop="url">[Make MyOS] Make a boot</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-09-05 22:48:41 / Modified: 22:52:07" itemprop="dateCreated datePublished" datetime="2021-09-05T22:48:41+08:00">2021-09-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Make-MyOS/" itemprop="url" rel="index"><span itemprop="name">Make MyOS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/c0d78c8f/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/c0d78c8f/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>9.8k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>16 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><p>第二天的内容本该是，学习一些汇编指令和Makefile，在这之前我觉得有必要好好看看CPU结构，自古操作系统和组成原理就分不开啊</p><p>面向总线的计算机组成示意图。中央处理器，从主存储器中逐条进行取指令，分析指令和执行指令。计算机各组件通过总线连在一起，总线是一些平行导线的集合，用来传递地址，数据和控制信号，可以在CPU之外连接CPU，存储器及IO设备；也可以在CPU内部连接CPU的各个组成部分。</p><div class="post-button"><a class="btn" href="/posts/c0d78c8f/#more" rel="contents">Read more &raquo;</a></div></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/307d30a/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/307d30a/" class="post-title-link" itemprop="url">[Make MyOS] Hello MyOS!</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-08-21 21:20:47" itemprop="dateCreated datePublished" datetime="2021-08-21T21:20:47+08:00">2021-08-21</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-10-23 11:46:15" itemprop="dateModified" datetime="2021-10-23T11:46:15+08:00">2021-10-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Make-MyOS/" itemprop="url" rel="index"><span itemprop="name">Make MyOS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/307d30a/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/307d30a/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>6.6k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>11 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p>这是30天的第一天内容，也不知道自己能坚持到几天，有几天就几天了，活这么久了，半途而废的事情还少吗？</p><p>首先需要准备几个工具</p><h1 id="1-qemu"><a href="#1-qemu" class="headerlink" title="1 qemu"></a>1 qemu</h1><p>不可能真去买个软盘什么的，所以我们需要一个虚拟计算机的东西——QEMU</p><div class="post-button"><a class="btn" href="/posts/307d30a/#more" rel="contents">Read more &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/32699cc/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/32699cc/" class="post-title-link" itemprop="url">[Make MyOS] After power on</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-08-21 21:09:12" itemprop="dateCreated datePublished" datetime="2021-08-21T21:09:12+08:00">2021-08-21</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-10-23 11:45:46" itemprop="dateModified" datetime="2021-10-23T11:45:46+08:00">2021-10-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Make-MyOS/" itemprop="url" rel="index"><span itemprop="name">Make MyOS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/32699cc/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/32699cc/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>7.4k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>12 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p>学习嘛，当然要有浓厚的兴趣先，所以需要百度学习了一下，按下电源键之后的故事。操作系统这玩意虽说玄乎，但是参考资料还是很多的</p><p>参考书籍是《30天自制操作系统》和《一个64位操作系统的设计与实现》，以30天为主，但是这玩意用的是Windows环境，这显然是不友好的，最终选择环境位Ubuntu18，能换的都换换呗</p><p>Intel手册：<a href="https://software.intel.com/content/www/us/en/develop/articles/intel-sdm.html" target="_blank" rel="noopener">Intel® 64 and IA-32 Architectures Software Developer Manuals</a></p><p>Vol1：用来介绍Intel x86平台的基本架构和执行环境。</p><p>Vol2：介绍x86指令，学汇编的时候可以参考啊</p><p>Vol3：介绍x86系统编程的基础，包括内存管理、保护、任务管理、中断和异常处理、多处理器支持、散热和电源管理功能、调试、性能监控、系统管理模式、虚拟机扩展(VMX)指令、英特尔虚拟化技术(Intel VT)和英特尔软件防护扩展(Intel SGX)。</p><p>Vol4：介绍x86 CPU上的MSR，是CPU内部的一组特殊的寄存器（这个是从原来的Vol3中独立出来的）。</p><h1 id="1-Why-Booting-is-called-Booting"><a href="#1-Why-Booting-is-called-Booting" class="headerlink" title="1 Why Booting is called Booting"></a>1 Why Booting is called Booting</h1><p>为什么计算机的启动叫boot，兴奋把这个疑问敲向了Google，我就知道肯定会有这个疑问的</p><p>参考：</p><p><a href="https://people.cs.rutgers.edu/~pxk/416/notes/02-boot.html" target="_blank" rel="noopener">Booting an Operating System (rutgers.edu)</a></p><p><a href="https://desktopreality.com/why-booting-is-called-booting/" target="_blank" rel="noopener">Why Booting is called “Booting “ | Desktop Reality</a></p><p>操作系统的启动为什么被称之为booting，而实际的程序又被称之为loading。这个原因要追溯到1950年代，booting是实际上是bootstrapping的缩写，而bootstrapping又是来自美国的一句谚语</p><blockquote><p>pull oneself up by one’s bootstraps</p></blockquote><p>字面意思就是用自己额鞋带把自己拉起来，这可能吗？这要可以，我左脚踩右脚直接起飞。但是计算机它得可以，因为计算机启动是一个很矛盾的过程：必须先运行程序，然后计算机才能启动，但是计算机不启动就无法运行程序。所以必须想尽各种办法，把一小段程序装进内存，然后计算机才能正常运行。久而久之就被称之为booting了..</p><p>接着再看计算机整个启动过程</p><h1 id="2-BIOS"><a href="#2-BIOS" class="headerlink" title="2 BIOS"></a>2 BIOS</h1><blockquote><p>参考：Intel manual volume 3 chapter 9.1</p></blockquote><p>当按下电源键或者RESET引脚被触发时，系统总线上每个CPU都会执行初始化(硬件复位)和可选的内置自检(build-in self-test)。硬件复位将每个处理器的寄存器设置为已知状态并<strong>将处理器置于实地址模式</strong>。它还会使内部缓存、转换后备缓冲区(TLB)和分支目标缓冲区(BTB)失效。此时，采取的操作取决于处理器系列，Intel手册上举了四类，三大类，比较古老的就不看了，IA-32 and Intel 64 processors，系统总线上的所有处理器（包括单处理器系统中的单个处理器）都执行<strong>多处理器（MP）初始化协议</strong>。通过该协议被选为自举处理器(BSP)的处理器然后立即开始<strong>执行从EIP寄存器中的偏移量开始的当前代码段中的软件初始化代码</strong>。</p><p>这一段描述RESET引脚相关启动，还有一种INIT引脚，这俩差别不大，只是INIT是从保护模式转到实地址模式，抛开上电之后的BIST(毕竟是可选的)，来瞅瞅第一行代码是怎么被执行的</p><p>参考Intel手册卷3第9.1.1节，首先上电之后，寄存器CR0被设为60000010H，用以确保CPU进入<strong>实地址模式</strong>。EIP被设定为0000FFF0H，CS基地址被设定为FFFF0000H(选择器是F000H)，通过<code>CS.BASE+EIP</code>得出第一条指令的地址FFFFFFF0H。</p><p>参考Intel手册卷3第9.1.4节，硬件复位后取出并执行的第一条指令位于物理地址FFFFFFF0H。该地址比处理器的最高物理地址低16个字节。包含软件初始化代码的EPROM必须位于该地址。在实地址模式下，地址FFFFFFF0H超出了处理器的<strong>1MB</strong>可寻址范围。CS寄存器有两部分：可见段选择器部分和隐藏基地址部分。在实地址模式下，基地址通常是通过将16位段选择器值向左移动4位以产生20位基地址来形成的。但是，在硬件复位期间，CS寄存器中的段选择器装入F000H，基地址装入FFFF0000H。因此，起始地址是通过将基地址与EIP寄存器中的值相加而形成的（即，FFFF0000 + FFF0H = FFFFFFF0H）。为确保CS寄存器中的基地址在基于EPROM的软件初始化代码完成之前保持不变，代码不得包含远跳转或远调用或允许发生中断。</p><p>那么为啥地址要是FFFFFFF0H呢？我们知道开机第一件事是读取BIOS，其实FFFFFFF0H的位置就是BIOS ROM的末尾，并且包含一条跳转指令，跳转到包含启动代码的BIOS区域。因为每家计算机生产厂商生产的机器外设不同，所以其BIOS程序大小不尽相同，有的可能是1K，有的可能是2K，如果把BIOS程序放在0x0000处，那么会造成在机器A上用户写的程序是从0x0400开始，机器B上用户写的程序就是0x0800开始，非常不统一。如果把这程序放在1M内存的顶部，再规定计算机第一条指令位置是FFFFFFF0H，然后就跳到各家BIOS开始处，那么用户写的程序都可以从0x0000开始了。</p><blockquote><p>CPU工作模式：实模式、保护模式、长模式。CPU同时在安全性上也要提升，从只有实模式【可以随意执行全部CPU指令，内存可以直接通过物理地址访问，随意访问随意读写】，到了32的保护模式【将指令划分为ring0到ring3，CPU指令不是你想调用就能调用；内存不是你想访问就能访问，首先CPU要允许，而且操作系统允许】，而64的长模式在安全方面与32并没有本至区别；</p><p>实模式又称实地址模式，实，即真实，这个真实分为两个方面，一个方面是运行真实的指令，对指令的动作不作区分，直接执行指令的真实功能，另一方面是发往内存的地址是真实的，对任何地址不加限制地发往内存。另外16位CPU是没有实模式这一说的，在实模式下地址总线只使用了20根，<strong>寻址范围为2^20^B=1MB</strong>。可参考Intel manual volume 3 chapter 8.7.13.4，有个A20M# pin，会屏蔽掉</p><p>保护模式相比于实模式，增加了一些控制寄存器和段寄存器，扩展通用寄存器的位宽，所有的通用寄存器都是32位的，还可以单独使用低16位，这个低16位又可以拆分成两个8位寄存器</p><p>长模式又名AMD64，因为这个标准是AMD公司最早定义的，它使CPU在现有的基础上有了64位的处理能力，既能完成64位的数据运算，也能寻址64位的地址空间。这在大型计算机上犹为重要，因为它们的物理内存通常有几百GB。</p><p>更多查看：Intel manual volume 3 chapter 2.2</p></blockquote><p>经过上面的解释，终于到了BIOS了，BIOS执行过程如下：</p><ol><li><p>开机自检(POST)，如果硬件出现问题，主板会发出不同含义的蜂鸣，启动中止</p></li><li><p>检测显卡（芯片）的BIOS并执行其代码以初始化视频硬件</p></li><li><p>检测任何其他设备BIOS并调用它们的初始化函数</p></li><li><p>显示BIOS启动画面</p></li><li><p>执行简短的内存测试（确定系统中有多少内存）</p></li><li><p>设置内存和驱动参数</p></li><li><p>配置即插即用设备（传统上是PCI总线设备）</p></li><li><p>分配资源（DMA通道和IRQ）</p></li><li><p>识别引导设备，此时BIOS需要知道，“下一阶段的启动程序”具体存放在哪一个设备。当BIOS识别引导设备（通常是被标记为可引导磁盘的几个磁盘之一）时，它从该设备读取块0到内存位置<strong>0x7c00</strong>并跳转到那里。</p></li></ol><h1 id="3-MBR"><a href="#3-MBR" class="headerlink" title="3 MBR"></a>3 MBR</h1><p>MBR(Master Boot Record)，硬盘的0柱面、0磁头、1扇区称为主引导扇区，FDISK程序写到该扇区的内容称为主引导记录（MBR）。该记录占用512个字节，它用于硬盘启动时将系统控制权交给用户指定的，并在分区表中登记了的某个操作系统区。，BIOS中启动顺序排第一的存储设备，软盘，硬盘，U盘等..不管什么盘，一般都是读取其第一个扇区，也就是512字节，加载到0x7c00处，如果这512字节的最后两个字节是0x55AA，那么就表示这个设备可以启动，如果不是，那就用下一个储存设备。512字节太小了，所以作用很明确，就是指明操作系统的入口在哪。MBR的内容是：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一阶段引导加载程序（≤ <span class="number">440</span>字节）</span><br><span class="line">磁盘签名（<span class="number">4</span>字节）</span><br><span class="line">磁盘分区表，用于标识磁盘的不同区域（每个分区<span class="number">16</span>字节 × <span class="number">4</span>个分区）</span><br></pre></td></tr></table></figure><p>一个扇区的硬盘主引导记录MBR由4个部分组成。</p><table><thead><tr><th>字节</th><th>内容</th><th>分类</th></tr></thead><tbody><tr><td>0000H~0088H</td><td>主引导程序</td><td>主引导程序</td></tr><tr><td>0089H~00E1H</td><td>出错信息</td><td rowspan="2">数据区</td></tr><tr><td>00E2H~01BDH</td><td>全为0</td></tr><tr><td>01BEH~01CDH</td><td>分区项1</td><td rowspan="4">分区表</td></tr><tr><td>01CEH~01DDH</td><td>分区项2</td></tr><tr><td>01DEH~01EDH</td><td>分区项3</td></tr><tr><td>01EEH~01FDH</td><td>分区项4</td></tr><tr><td>01FEH</td><td>0x55</td><td rowspan="2">结束标志</td></tr><tr><td>01FFH</td><td>0xAA</td></tr></tbody></table><p>占用512个字节的MBR中，偏移地址01BEH~01FDH的64个字节，为4个分区项内容（分区信息表）。它是由磁盘介质类型及用户在使用FDISK定义分区时确定的。在实际应用中，FDISK对一个磁盘划分的主分区可少于4个，但最多不超过4个。每个分区表的项目是16个字节，其内容含义如下表所示。</p><div class="table-container"><table><thead><tr><th>存贮字节位</th><th>内容及含义</th></tr></thead><tbody><tr><td>第1字节</td><td>引导标志。若值为80H表示活动分区，若值为00H表示非活动分区。</td></tr><tr><td>第2、3、4字节</td><td>本分区的起始磁头号、扇区号、柱面号。其中：磁头号——第2字节；扇区号——第3字节的低6位；柱面号——为第3字节高2位+第4字节8位。</td></tr><tr><td>第5字节</td><td>分区类型符。00H——表示该分区未用（即没有指定）；06H——FAT16基本分区；0BH——FAT32基本分区；05H——扩展分区；07H——NTFS分区；0FH——（LBA模式）扩展分区（83H为Linux分区等）</td></tr><tr><td>第6、7、8字节</td><td>本分区的结束磁头号、扇区号、柱面号。其中：磁头号——第6字节；扇区号——第7字节的低6位；柱面号——第7字节的高2位+第8字节。</td></tr><tr><td>第9、10、11、12字节</td><td>本分区已用的扇区数。</td></tr><tr><td>第13、14、15、16字节</td><td>本分区的总扇区数。</td></tr></tbody></table></div><p>最后的四个字节（“主分区的扇区总数”），决定了这个主分区的长度。也就是说，一个主分区的扇区总数最多不超过2^32。</p><p>如果每个扇区为512个字节，就意味着单个分区最大不超过2TB。再考虑到扇区的逻辑地址也是32位，所以单个硬盘可利用的空间最大也不超过2TB。如果想使用更大的硬盘，只有2个方法：一是提高每个扇区的字节数，二是增加扇区总数。</p><p>BIOS完了以后就到了硬盘的某个分区了，在进硬盘分区之前，先来看一个疑问。</p><p>为什么是0x7c00？这玩意在Intel手册没搜到，所以应当和CPU啥的没关系。觉知此事要Google：<a href="https://www.glamenv-septzen.net/en/view/6" target="_blank" rel="noopener">Why BIOS loads MBR into 0x7C00 in x86 ? - Glamenv-Septzen.net(en)</a></p><blockquote><p>“0x7C00” First appeared in IBM PC 5150 ROM BIOS INT 19h handler.</p><p>When power on, BIOS processes “POST”(Power On Self Test) procedure, and after, <strong>call INT 19h</strong>.<br>In INT 19h handler, BIOS checks that PC has any of floppy/hard/fixed diskette or not have.<br>If PC has any of available diskkete, BIOS loads a first sector(512B) of diskette into 0x7C00.</p><p>Now, you understand why you couldn’t find out this magic number in x86 documents. <strong>This magic number belongs to BIOS specification.</strong></p><p>“0x7C00” was decided by IBM PC 5150 BIOS developer team (Dr. David Bradley).</p></blockquote><p>BIOS开发团队决定0x7C00是因为：他们希望为操作系统在32KB内加载自己留下尽可能多的空间。8086/8088使用0x0~0x3FF作为中断向量，BIOS数据区在它之后。引导扇区为512字节，引导程序的堆栈/数据区需要更多的512字节。因此，选择了0x7C00，即32KB的最后1024B。一旦操作系统加载并启动，引导扇区将永远不会使用，直到电源重置。因此，操作系统和应用程序可以自由使用32KB的最后1024B。</p><p>系统加载后，内存布局</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+--------------------- 0x0</span><br><span class="line">| Interrupts vectors</span><br><span class="line">+--------------------- 0x400</span><br><span class="line">| BIOS data area</span><br><span class="line">+--------------------- 0x5??</span><br><span class="line">| OS load area</span><br><span class="line">+--------------------- 0x7C00</span><br><span class="line">| Boot sector</span><br><span class="line">+--------------------- 0x7E00</span><br><span class="line">| Boot data/stack</span><br><span class="line">+--------------------- 0x7FFF</span><br><span class="line">| (<span class="keyword">not</span> used)</span><br><span class="line">+--------------------- (<span class="built_in">..</span>.)</span><br></pre></td></tr></table></figure><p>相对MBR，还有一种应该不会用到的EBR(Extended Boot Record)..</p><h1 id="4-VBR"><a href="#4-VBR" class="headerlink" title="4 VBR"></a>4 VBR</h1><p>一旦BIOS将控制权转移到加载到内存中的MBR的开头，MBR代码就会扫描其分区表并加载该分区的卷引导记录(VBR)。VBR是从指定分区的第一个磁盘块开始的一系列连续块。VBR的第一个块标识分区类型和大小并包含初始程序加载器(IPL)，该代码将加载构成第二阶段引导加载器的附加块。在Windows NT派生系统（例如，Windows Server 2012、Windows 8）上，IPL加载一个名为NTLDR 的程序，然后该程序加载操作系统。</p><p>低级引导加载程序难以加载完整操作系统（尤其是可能由多个文件组成的操作系统）的一个原因是，这样做需要解析文件系统结构的能力。这意味着了解目录和文件名的布局方式以及如何找到与特定文件对应的数据块。没有太多代码，只读取连续的块要容易得多。更高级别的加载程序，例如Microsoft的NTLDR，可以读取NTFS、FAT和ISO 9660(CD)文件格式。</p><p>简单来说，VBR的下一步才是加载操作系统</p><p>这里除了VBR，还有Boot Manager，比如说Windows Boot Manager，GRUB等等，就是计算机上装了多个操作系统，让用户选择启动哪一个的东西，也就是说从MBR过来，控制权不给VBR了，而是给启动管理器这么个程序</p><h1 id="5-OS"><a href="#5-OS" class="headerlink" title="5 OS"></a>5 OS</h1><p>VBR指明了操作系统在哪，接下来就是把操作系统给加载起来，比如说Linux就会先把kernel加载起来，完了再到用户空间init进程，init再加载各个进程模块，窗口，网络啥的，至此操作系统就起来了</p><h1 id="6-UEFI"><a href="#6-UEFI" class="headerlink" title="6 UEFI"></a>6 UEFI</h1><p>随着64位架构取代32位架构的出现，BIOS开始显得过时了。英特尔着手创建BIOS后继产品的规范，该规范对必须以20位寻址的16位模式运行启动代码没有任何限制。此规范称为统一可扩展固件接口或UEFI。尽管由英特尔开发，但自2005年起由统一EFI论坛管理。许多较新的64位系统都使用它，包括Mac，这些系统也支持运行Windows的旧版BIOS。</p><p>EFI支持的一些功能包括：</p><p>保留了BIOS中的一些组件，包括电源管理（高级配置和电源接口，ACPI）和系统管理组件（例如，读取和设置日期）。</p><p>支持更大的磁盘BIOS仅支持每个磁盘四个分区，每个分区的容量高达2.2TB。UEFI支持的最大分区大小为9.4ZB（9.4 × 10^21字节）。</p><p>无需在16位（实）模式下启动，预引导执行环境可以直接访问所有系统内存。</p><p>UEFI包括设备驱动程序，包括解释与体系结构无关的EFI字节代码(EBC)的能力。然而，操作系统使用它们自己的驱动程序，因此与BIOS一样，驱动程序通常仅用于引导过程。</p><p>旧的BIOS只能加载单个块，这需要多阶段启动过程。UEFI有自己的命令解释器和完整的引导管理器。不再需要专用的引导加载程序。只要将可引导文件放入UEFI引导分区，该分区被格式化为FAT文件系统（旧Windows系统中的标准文件系统格式；几乎每个操作系统都知道如何处理的文件系统格式）。</p><p>固件是可扩展的，UEFI 的扩展可以加载到非易失性内存中。</p><h1 id="7-Non-Intel-Systems"><a href="#7-Non-Intel-Systems" class="headerlink" title="7 Non-Intel Systems"></a>7 Non-Intel Systems</h1><p>上面的依据都是Intel的，向Android(嵌入式)和MAC就不一定一样了</p><p>许多嵌入式设备不会加载操作系统，而是已经将操作系统存储在非易失性存储器（如闪存或ROM）中。例如，那些加载操作系统（例如基于ARM的Android手机）的设备将在设备开机时执行只读存储器（通常在NOR闪存中）中的代码。此引导代码嵌入在某些设备的CPU ASIC中，因此不需要板上单独的闪存芯片。当系统复位（包括上电）时，处理器处于监控(SVC)模式并且中断被禁用。在基于ARM的系统上，处理器从地址0x00000000开始执行。包含启动代码的闪存在复位时映射到地址0x00000000。此代码执行各种初始化，包括在DRAM中设置异常向量表以及将应用程序代码从ROM复制到DRAM（代码在DRAM中运行速度更快）。代码将DRAM重新映射到地址0，从而隐藏了闪存（处理器有一个REMAP位来改变闪存的映射）。然后初始化存储系统。这涉及设置内存保护和设置系统堆栈。然后初始化I/O设备并将处理器更改为用户模式。引导固件检测可引导媒体并加载和运行第二阶段引导加载程序（如有必要）。第二阶段引导加载程序通常是用于大型系统的GRUB或用于嵌入式系统的uBoot。第二阶段加载器加载操作系统并将控制权转移给它。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/c64b5633/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/c64b5633/" class="post-title-link" itemprop="url">Compile Android 11 with WSL2</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-06-13 09:15:43" itemprop="dateCreated datePublished" datetime="2021-06-13T09:15:43+08:00">2021-06-13</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-10-31 12:02:05" itemprop="dateModified" datetime="2021-10-31T12:02:05+08:00">2021-10-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/c64b5633/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/c64b5633/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>17k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>28 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><p>手里就一台笔记本，可不想把系统换成Linux的，毕竟有很多操作还是很不方便，但是又想学习学习Android源码，所以，总得找点什么凑活着用的办法，于是我把目光放到了Win10上的Linux子系统上了，也就是WSL，毕竟虚拟机太废内存划不来，亲测</p><p>CPU：AMD Ryzen 7 4800H with Radeon Graphics 2.90 GHz</p><p>RAM：16G</p><p>ROM：512G SSD + 2T HDD</p><p>GPU：GTX 1650</p><p>跑起来不说多么流畅，反正不卡，可能编译慢点，咱也不差那点时间，硬盘预留个256G的空间就够了。话不多说，记录一下这次操作的经历..</p><div class="post-button"><a class="btn" href="/posts/c64b5633/#more" rel="contents">Read more &raquo;</a></div></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/c8ed763e/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/c8ed763e/" class="post-title-link" itemprop="url">[Relearning C/Cpp] Supplement</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-05-05 17:40:29 / Modified: 20:26:31" itemprop="dateCreated datePublished" datetime="2021-05-05T17:40:29+08:00">2021-05-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C-Cpp/" itemprop="url" rel="index"><span itemprop="name">C/Cpp</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/c8ed763e/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/c8ed763e/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>13k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>22 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p>这篇笔记主要是对C/Cpp一些知识的补充，这篇笔记过后就是抽象机制以及一些库函数的学习了</p><h1 id="1-源文件与程序"><a href="#1-源文件与程序" class="headerlink" title="1 源文件与程序"></a>1 源文件与程序</h1><p>一个C语言文件到可执行文件，中间经历了什么？预处理(Preprocessing)、编译(Compilation)、汇编(Assemble)、链接(Linking)。这是耳熟能详的几个过程，甚至还能敲出对应的gcc命令，那么实际上到底是啥情况呢？比如现在有个C程序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello World!\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>敲出gcc的命令：<code>gcc main.c -o main.o -v</code></p><div class="post-button"><a class="btn" href="/posts/c8ed763e/#more" rel="contents">Read more &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/e4de57a8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/e4de57a8/" class="post-title-link" itemprop="url">[Relearning C/Cpp] Initialization and Functions</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-04-17 16:53:30" itemprop="dateCreated datePublished" datetime="2021-04-17T16:53:30+08:00">2021-04-17</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-04-26 22:54:54" itemprop="dateModified" datetime="2021-04-26T22:54:54+08:00">2021-04-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C-Cpp/" itemprop="url" rel="index"><span itemprop="name">C/Cpp</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/e4de57a8/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/e4de57a8/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>20k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>33 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><h1 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1 初始化"></a>1 初始化</h1><p>对象的声明可以通过初始化的过程获得初始值。主要就是见识一下C/Cpp里面几种初始化的形式，免得大惊小怪</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C语言的初始化还好，怎么着都得有个 =</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> c = {<span class="number">1</span>};  <span class="comment">// scalar initialization</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> {</span><span class="keyword">int</span> a[<span class="number">3</span>], b;} MyType;</span><br><span class="line">MyType mm = {{<span class="number">1</span>}, <span class="number">3</span>};</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>* ptr = <span class="built_in">malloc</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cpp多了一个花样</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>] {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line"><span class="keyword">int</span> b {<span class="number">0</span>};</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> {</span><span class="keyword">int</span> a[<span class="number">3</span>], b;} MyType;</span><br><span class="line">MyType mm {{<span class="number">1</span>}, <span class="number">3</span>};</span><br><span class="line"><span class="keyword">auto</span> *m = <span class="keyword">new</span> MyType;</span><br><span class="line"><span class="keyword">auto</span> *m1 {<span class="keyword">new</span> MyType()};</span><br></pre></td></tr></tbody></table></figure><div class="post-button"><a class="btn" href="/posts/e4de57a8/#more" rel="contents">Read more &raquo;</a></div></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/61dcf29f/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/61dcf29f/" class="post-title-link" itemprop="url">[Relearning C/Cpp] Array and Pointer</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-04-17 15:47:30" itemprop="dateCreated datePublished" datetime="2021-04-17T15:47:30+08:00">2021-04-17</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2021-04-26 22:54:34" itemprop="dateModified" datetime="2021-04-26T22:54:34+08:00">2021-04-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C-Cpp/" itemprop="url" rel="index"><span itemprop="name">C/Cpp</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/61dcf29f/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/61dcf29f/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>31k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>51 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><html><head></head><body><p>数组和指针一般不能分开，尤其是C语言里面，让人又爱又恨的东西..而一谈到这俩玩意就得画图..</p><h1 id="1-数组"><a href="#1-数组" class="headerlink" title="1 数组"></a>1 数组</h1><p>对数组下定义，抱歉，我不会。但是我有词典，a way of organizing and storing related data in a computer memory。这么一看就清晰多了</p><p>元素类型为char的数组可以如下声明</p><p><code>int c[6]; // 可以存6个整数的数组</code></p><p>在声明中<code>[]</code>表示xxx的数组，所有数组下标都是从0开始，计算机中很多东西都是从0开始，为什么？搜索一下吧。数组的大小，就是那个6，必须得是个常量表达式，这么看，数组一旦定义好了大小就定下来了呀</p><p>数组名也是标识符，也要符合规则，不能和其他变量重名</p><p>数组初始化的时候可以部分初始化，也可以整体初始化；赋值的时候不能整体赋值，只能单个元素得赋值(数组拷贝，那个不算)</p><div class="post-button"><a class="btn" href="/posts/61dcf29f/#more" rel="contents">Read more &raquo;</a></div></body></html></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article itemscope itemtype="http://schema.org/Article"><div class="post-block home"><link itemprop="mainEntityOfPage" href="https://sidneygod.github.io/posts/5d13faf3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Sidney Ding"><meta itemprop="description" content="You laugh at me for being different, but I laugh at you for being the same."><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sidney God"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/posts/5d13faf3/" class="post-title-link" itemprop="url">Build a leanote server</a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-08-23 18:05:55 / Modified: 18:44:13" itemprop="dateCreated datePublished" datetime="2020-08-23T18:05:55+08:00">2020-08-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Other/" itemprop="url" rel="index"><span itemprop="name">Other</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Valine: </span><a title="valine" href="/posts/5d13faf3/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/5d13faf3/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Symbols count in article: </span><span>5.5k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">Reading time &asymp;</span> <span>9 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="1-Prepare"><a href="#1-Prepare" class="headerlink" title="1 Prepare"></a>1 Prepare</h1><p>You need a server. My server OS is CentOS 7.2. You can also use other versions of Linux. Ok, let’s get started.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">yum install git  # config your git</span><br><span class="line">git config --global user.name=UserName</span><br><span class="line">git config --global user.email=xx@yy.zz</span><br><span class="line">mkdir /usr/local/apps</span><br><span class="line">mkdir ~/tmp</span><br><span class="line">cd ~/tmp</span><br></pre></td></tr></table></figure><h1 id="2-Install-Golang"><a href="#2-Install-Golang" class="headerlink" title="2 Install Golang"></a>2 Install Golang</h1><div class="post-button"><a class="btn" href="/posts/5d13faf3/#more" rel="contents">Read more &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></div><nav class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a></nav></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Catalogue</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="#"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Sidney Ding"></a><p class="site-author-name" itemprop="name">Sidney Ding</p><div class="site-description" itemprop="description">You laugh at me for being different, but I laugh at you for being the same.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">22</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/SidneyGod" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;SidneyGod" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:sidneyding183@gmail.com" title="E-Mail &amp;rarr; mailto:sidneyding183@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://google.com/" title="https:&#x2F;&#x2F;google.com" rel="noopener" target="_blank">Google</a></li><li class="links-of-blogroll-item"><a href="https://bing.com/" title="https:&#x2F;&#x2F;bing.com" rel="noopener" target="_blank">Bing</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2021</span> <span class="with-love" id="animate"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Sidney Ding</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">Symbols count total: </span><span title="Symbols count total">232k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">Reading time total &asymp;</span> <span title="Reading time total">6:26</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1</div><div><span><i class="fa fa-bomb"></i> </span><span id="showDays"></span></div><script>var seconds=1e3,minutes=60*seconds,hours=60*minutes,days=24*hours,years=365*days,birthDay=Date.UTC(2019,10,1,0,0,0);setInterval(function(){var e=(n=new Date).getFullYear(),s=n.getMonth()+1,t=n.getDate(),a=n.getHours(),o=n.getMinutes(),n=n.getSeconds(),s=Date.UTC(e,s,t,a,o,n)-birthDay,t=Math.floor(s/years),a=Math.floor(s/days-365*t),o=Math.floor((s-(365*t+a)*days)/hours),n=Math.floor((s-(365*t+a)*days-o*hours)/minutes),s=Math.floor((s-(365*t+a)*days-o*hours-n*minutes)/seconds);document.getElementById("showDays").innerHTML="This website has been running for "+t+" years, "+a+" days, "+o+" hours, "+n+" minutes, "+s+" seconds"},1e3)</script></div></footer></div><script src="/lib/anime.min.js?v=3.1.0"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.4.1.js"></script><script src="/js/motion.js?v=7.4.1.js"></script><script src="/js/schemes/pisces.js?v=7.4.1.js"></script><script src="/js/next-boot.js?v=7.4.1.js"></script><script src="/js/bookmark.js?v=7.4.1.js"></script><script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script><script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/three-waves.min.js"></script><script src="/js/local-search.js?v=7.4.1.js"></script><script>document.querySelectorAll("div.pdf").length&&NexT.utils.getScript("//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js",()=>{document.querySelectorAll("div.pdf").forEach(e=>{PDFObject.embed(e.getAttribute("target"),e,{pdfOpenParams:{navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"},PDFJS_URL:"/lib/pdf/web/viewer.html",height:e.getAttribute("height")||"500px"})})},window.PDFObject)</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });</script><script>NexT.utils.getScript("//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML",()=>{MathJax.Hub.Typeset()},window.MathJax)</script><script>NexT.utils.getScript("//unpkg.com/valine/dist/Valine.min.js",()=>{var e=["nick","mail","link"],i="nick,mail,link".split(",").filter(i=>e.includes(i));new Valine({el:"#comments",verify:!0,notify:!1,appId:"IJiDbg4VAiIeDsIj4MBo39Hq-gzGzoHsz",appKey:"0osu23DWjzCzrIVH4Ybe3ihh",placeholder:"Just go go",avatar:"monsterid",meta:i,pageSize:"10",visitor:!1,lang:"en",path:location.pathname,recordIP:!0,serverURLs:""})},window.Valine)</script><script src="/js/snowflakes.min.js"></script><script>new Snowflakes({color:"rgba(129, 161, 193, 0.87)"})</script><script async src="/js/love.js"></script><script async src="/js/fireworks.js"></script><script>var titleTime,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="(つェ⊂) 我藏好了哦~"+OriginTitile,clearTimeout(titleTime)):(document.title="(*´∇｀*) 被你发现啦~"+OriginTitile,titleTime=setTimeout(function(){document.title=OriginTitile},2e3))})</script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script></body></html>